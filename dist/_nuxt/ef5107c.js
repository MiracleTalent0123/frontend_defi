(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{1941:function(t,n,e){var content=e(2071);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,e(24).default)("2d2b3376",content,!0,{sourceMap:!1})},1942:function(t,n,e){var content=e(2073);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,e(24).default)("7d77d219",content,!0,{sourceMap:!1})},2070:function(t,n,e){"use strict";e(1941)},2071:function(t,n,e){var o=e(23)(!1);o.push([t.i,'.btn-container[data-v-58c8bb15]{box-shadow:0 4px 4px rgba(0,0,0,.25);border-radius:8px;padding:3px;height:auto}.swap.container[data-v-58c8bb15]{max-width:1250px;width:100%;padding:15px;margin:50px auto 20px;min-height:calc(100vh - 146px);align-items:flex-start!important;justify-content:space-between;display:flex}@media (max-width:1024px){.swap.container[data-v-58c8bb15]{display:block}}.swap.container .note-unwrapped-sol[data-v-58c8bb15]{max-width:440px;background:#40428c;border-radius:18px;padding:8px 18px;margin:auto auto 12px;display:flex;align-items:center}.swap.container .note-unwrapped-sol .note-content[data-v-58c8bb15]{display:flex;align-items:baseline}.swap.container .note-unwrapped-sol .note-content .note-icon[data-v-58c8bb15]{margin-right:8px}.swap.container .note-unwrapped-sol .note-btn[data-v-58c8bb15]{background:linear-gradient(90deg,#273592,#6639e4);box-shadow:0 4px 4px rgba(0,0,0,.25);border-radius:48px;border:none;width:108px;height:33px}.swap.container .note-unwrapped-sol .note-btn[data-v-58c8bb15]:hover{background:linear-gradient(103.7deg,#6639e4,#273592)}@media (max-width:1024px){.swap.container .note-unwrapped-sol .note-btn[data-v-58c8bb15]{margin:10px auto auto;display:flex;align-items:center;justify-content:center}}.swap.container .card-swap[data-v-58c8bb15]{max-width:400px;min-width:400px}.swap.container .card-chart[data-v-58c8bb15]{width:100%;padding-left:30px}@media (max-width:1024px){.swap.container .card-chart[data-v-58c8bb15]{padding-left:0;margin-top:30px}}.swap.container .card-chart .card-chart-container[data-v-58c8bb15]{padding:20px;width:100%}.swap.container .card[data-v-58c8bb15]{display:inline-block;position:relative;z-index:0;border-radius:18px;box-shadow:inset 0 0 28px rgba(45,11,80,.88235);background:rgba(129,116,245,.5)}.swap.container .card .card-body[data-v-58c8bb15]{background:transparent;padding:12px 18px}.swap.container .card .card-body .information[data-v-58c8bb15]{display:flex;align-items:center;justify-content:space-between}@media (max-width:767px){.swap.container .card .card-body .information[data-v-58c8bb15]{width:100%}}.swap.container .card .card-body .information .tvl-info[data-v-58c8bb15]{margin-right:18px}.swap.container .card .card-body .information .action-btn-group[data-v-58c8bb15]{display:flex;align-items:center}.swap.container .card .card-body .information .action-btn-group .reload-btn[data-v-58c8bb15]{background:linear-gradient(rgba(75,85,231,.65098),rgba(182,97,150,.74902));border-radius:8px;padding:6px;margin-right:18px;display:flex;align-items:center;justify-content:center}@media (max-width:1024px){.swap.container .card .card-body .information .action-btn-group .reload-btn[data-v-58c8bb15]{margin-left:4px}}.swap.container .card .card-body .information .action-btn-group .reload-btn .reload-icon[data-v-58c8bb15]{width:18px;height:18px}.swap.container .card .card-body .information .action-btn-group .reload-btn.active .reload-icon[data-v-58c8bb15]{transform:rotate(1turn);transition:all 1s ease-in-out}.swap.container .card .card-body .page-title[data-v-58c8bb15]{letter-spacing:.5px;color:#e0f4f6}.swap.container .card .card-body .exchange-info .swap-icon[data-v-58c8bb15]{margin-left:10px;cursor:pointer}.swap.container .card .card-body .exchange-info .price-base[data-v-58c8bb15]{letter-spacing:.5px;color:#ccd1f1}.swap.container .card .card-body .swap-actions[data-v-58c8bb15]{margin-bottom:8px}.swap.container .card .card-body .swap-actions .swap-status .price-status[data-v-58c8bb15]{display:flex;align-items:center}.swap.container .card .card-body .swap-actions .swap-status .price-status .status-icon[data-v-58c8bb15]{margin-right:9px}.swap.container .card .card-body .swap-actions .action-group[data-v-58c8bb15]{display:flex}.swap.container .card .card-body .swap-actions .action-group .action-btn-container[data-v-58c8bb15]{position:relative;width:24px;height:24px;background:#1f2a75;border-radius:8px;margin-right:8px}.swap.container .card .card-body .swap-actions .action-group .action-btn-container[data-v-58c8bb15]:last-child{margin-right:0}.swap.container .card .card-body .swap-actions .action-group .action-btn-container.loading .load-icon[data-v-58c8bb15]{transform:rotate(1turn);transition:all 1s ease-in-out}.swap.container .card .card-body .swap-actions .action-group .action-btn-container .slippage-container[data-v-58c8bb15]{position:absolute;top:30px;right:0;background:linear-gradient(190.83deg,#336c95 -119.02%,#2e1664 86.38%);background-origin:border-box;border:2px solid hsla(0,0%,100%,.14);box-shadow:18px 11px 14px rgba(0,0,0,.25);border-radius:8px;padding:12px;width:178px;z-index:999}.swap.container .card .card-body .swap-actions .action-group .action-btn-container .slippage-container .slippage-input[data-v-58c8bb15]{background:hsla(0,0%,100%,.06);border:1px solid hsla(0,0%,100%,.14);box-sizing:border-box;border-radius:6px;width:100%;outline:none;padding:5px 12px}.swap.container .card .card-body .swap-actions .action-group .action-btn-container .slippage-container .slippage-input[data-v-58c8bb15]::-webkit-inner-spin-button,.swap.container .card .card-body .swap-actions .action-group .action-btn-container .slippage-container .slippage-input[data-v-58c8bb15]::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}.swap.container .card .card-body .swap-actions .action-group .action-btn-container .slippage-container[data-v-58c8bb15]:after{content:"%";position:absolute;top:18px;left:55px;transition:all .05s ease-in-out}.swap.container .card .card-body .price-info[data-v-58c8bb15]{display:grid;grid-auto-rows:auto;grid-row-gap:8px;row-gap:8px;padding:12px;background:#2e1664;border-radius:18px}.swap.container .card .card-body .price-info .info-box .name[data-v-58c8bb15]{display:flex;align-items:center;color:#98a2e4;margin-bottom:4px}.swap.container .card .card-body .price-info .info-box .name .tooltip-icon[data-v-58c8bb15]{margin-left:5px}.swap.container .card .card-body .price-info .info-box .value[data-v-58c8bb15]{color:#ccd1f1}.swap.container .card .card-body .price-info .info-box .pathway[data-v-58c8bb15]{display:flex}.swap.container .card .card-body .price-info .info-box .pathway .coin-box-container[data-v-58c8bb15]{background:linear-gradient(97.63deg,#280c86 -29.92%,#22b5b6 103.89%);padding:2px;border-radius:8px}.swap.container .card .card-body .price-info .info-box .pathway .coin-box-container .coin-box[data-v-58c8bb15]{display:flex;align-items:center;height:100%;padding:8px;background:#2e1664;border-radius:8px}.swap.container .card .card-body .price-info .info-box .pathway .coin-box-container .coin-box img[data-v-58c8bb15]{width:12px;height:12px;margin-right:4px;border-radius:50%}.swap.container .card .card-body .price-info .info-box .pathway .fst[data-v-58c8bb15]{margin:10px}@media (max-width:1024px){.swap.container .card[data-v-58c8bb15]{min-width:100%}}.btn-transparent[data-v-58c8bb15]{border-radius:8px;height:44px;width:100%}.btn-transparent[data-v-58c8bb15],.btn-transparent[disabled][data-v-58c8bb15]:focus,.btn-transparent[disabled][data-v-58c8bb15]:hover{background:transparent;border:none}.price-impact-orange[data-v-58c8bb15]{color:#ffb900!important}.price-impact-green[data-v-58c8bb15]{color:#31b79f!important}.price-impact-red[data-v-58c8bb15]{color:#fda095!important}.swap-vertical[data-v-58c8bb15]{margin-bottom:-8px}.swap-vertical[data-v-58c8bb15],.swap-vertical div[data-v-58c8bb15]{display:flex;justify-content:center}.swap-vertical div[data-v-58c8bb15]{background:linear-gradient(rgba(75,85,231,.65098),rgba(182,97,150,.74902));width:28px;height:28px;align-items:center;border-radius:50%;transition:.3s}.swap-vertical div[data-v-58c8bb15]:hover{transform:scale(1.1)}',""]),t.exports=o},2072:function(t,n,e){"use strict";e(1942)},2073:function(t,n,e){var o=e(23)(!1);o.push([t.i,".ant-tooltip-inner{width:160px}.ant-tooltip-arrow{display:none}",""]),t.exports=o},2093:function(t,n,e){"use strict";e.r(n);e(50),e(69),e(56),e(85);var o=e(7),r=e(38),c=(e(96),e(43)),d=e.n(c),l=(e(278),e(207)),m=e.n(l),h=(e(45),e(111),e(158),e(147),e(148),e(191),e(62),e(35),e(39),e(97),e(124),e(135),e(95),e(110),e(347),e(13)),f=e(65),C=e(1895),v=e(75),A=e(130),w=e(5),k=e(93),x=e(12),y=e(1),S=e(10),_=e(155),O=e(16),I=e(167),j=e(87),M=e(30);function T(object,t){var n=Object.keys(object);if(Object.getOwnPropertySymbols){var e=Object.getOwnPropertySymbols(object);t&&(e=e.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),n.push.apply(n,e)}return n}function $(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?T(Object(source),!0).forEach((function(n){Object(r.a)(t,n,source[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):T(Object(source)).forEach((function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(source,n))}))}return t}var U="Two-Step Swap with CRP",F="Two-Step Swap with USDC",P="Mixed two-Step Swap with CRP ",W="Mixed Two-Step Swap with USDC",B=h.default.extend({components:{Tooltip:m.a,Button:d.a},data:function(){return{TOKENS:w.c,TVL:0,circulatingSupply:425134,solBalance:null,wsolBalance:null,autoRefreshTime:60,countdown:0,marketTimer:null,initialized:!1,loading:!1,swaping:!1,asks:{},bids:{},isFetchingUnsettled:!1,unsettledOpenOrders:null,baseSymbol:"",baseUnsettledAmount:0,isSettlingBase:!1,quoteSymbol:"",quoteUnsettledAmount:0,isSettlingQuote:!1,coinSelectShow:!1,selectFromCoin:!0,fixedFromCoin:!0,fromCoin:null,toCoin:null,fromCoinAmount:"",toCoinAmount:"",toCoinWithSlippage:"",midAmount:"",midAmountWithSlippage:"",isWrap:!1,market:null,marketAddress:"",lpMintAddress:"",endpoint:"",priceImpact:0,coinBasePrice:!0,outToPirceValue:0,hasPriceSwapped:!1,officialPool:!0,userCheckUnofficial:!0,userCheckUnofficialMint:void 0,userCheckUnofficialShow:!1,mainAmmId:void 0,available_dex:[],best_dex_type:void 0,midTokenSymbol:void 0,midTokenMint:void 0,extAmmId:void 0,ammIdSelectShow:!1,ammIdSelectList:[],ammIdSelectOld:!1,ammIdOrMarketSearchShow:!1,userNeedAmmIdOrMarket:void 0,setCoinFromMintLoading:!1,asksAndBidsLoading:!0,windowWidth:0,sub_endpoint_1:void 0,sub_endpoint_2:void 0,endpoint_multi_crp:"Two-Step Swap with CRP",endpoint_multi_usdc:"Two-Step Swap with USDC",activeSpinning:!1,showInformations:!1,showSlippage:!1,showPercentage:!1}},head:{title:"NeoNomad Finance - Swap"},computed:$({},Object(f.e)(["wallet","swap","liquidity","url","setting","token"])),watch:{fromCoinAmount:function(t,n){var e=this;this.$nextTick((function(){console.log("start fromCoinAmount()"),k.b.test(Object(k.a)(t))?e.updateAmounts():e.fromCoinAmount=n,console.log("end fromCoinAmount()")}))},"wallet.tokenAccounts":{handler:function(t){console.log("start wallet.tokenAccounts()"),this.updateCoinInfo(t),this.findMarket(),this.mainAmmId&&this.needUserCheckUnofficialShow(this.mainAmmId),this.market&&this.fetchUnsettledByMarket(),this.solBalance=this.wallet.tokenAccounts[w.a.mintAddress],this.wsolBalance=this.wallet.tokenAccounts[w.e.mintAddress],this.flush();var n=this.$route.query,e=n.from,o=n.to,r=n.ammId;this.setCoinFromMint(r,e,o),o||(this.toCoin=Object.values(w.c).find((function(t){return"NNI"===t.symbol}))),e||(this.fromCoin=Object.values(w.c).find((function(t){return"USDC"===t.symbol}))),console.log("end wallet.tokenAccounts()")},deep:!0},fromCoin:function(t,n){console.log("start fromCoin()"),this.setCoinFromMintLoading||null!==n&&null!==t&&t.mintAddress===n.mintAddress||(this.userNeedAmmIdOrMarket=void 0,this.best_dex_type=void 0,this.findMarket(),this.fromCoinAmount="",this.toCoinAmount="",this.ammIdSelectOld=!1),console.log("end fromCoin()")},baseUnsettledAmount:function(){this.isSettlingBase=!1},quoteUnsettledAmount:function(){this.isSettlingQuote=!1},toCoin:function(t,n){console.log("start toCoin()"),this.setCoinFromMintLoading||null!==n&&null!==t&&t.mintAddress===n.mintAddress||(this.userNeedAmmIdOrMarket=void 0,this.best_dex_type=void 0,this.findMarket(),this.fromCoinAmount="",this.toCoinAmount="",this.ammIdSelectOld=!1),console.log("end toCoin()")},market:function(){console.log("start market()"),this.baseSymbol="",this.baseUnsettledAmount=0,this.quoteSymbol="",this.quoteUnsettledAmount=0,this.unsettledOpenOrders=null,this.fetchUnsettledByMarket(),console.log("end market()")},marketAddress:function(){this.updateAmounts()},asks:function(){this.updateAmounts()},bids:function(){this.updateAmounts()},"liquidity.infos":{handler:function(t){var n=this.$route.query,e=n.from,o=n.to,r=n.ammId;this.setCoinFromMint(r,e,o),this.findMarket()},deep:!0},"token.initialized":{handler:function(t){this.toCoin=Object(w.g)("NNI"),this.fromCoin=Object(w.g)("USDC");var n=this.$route.query,e=n.from,o=n.to,r=n.ammId;this.setCoinFromMint(r,e,o)},deep:!0},"swap.markets":{handler:function(t){this.findMarket()},deep:!0},"setting.slippage":{handler:function(){this.updateAmounts()},deep:!0}},mounted:function(){this.getTvl(),this.getCirculatingSupply(),this.$accessor.token.loadTokens(),this.$accessor.wallet.getTokenAccounts(),this.updateCoinInfo(this.wallet.tokenAccounts),this.setMarketTimer();var t=this.$route.query,n=t.from,e=t.to,o=t.ammId;this.setCoinFromMint(o,n,e),this.toCoin=Object.values(w.c).find((function(t){return"NNI"===t.symbol})),this.fromCoin=Object.values(w.c).find((function(t){return"USDC"===t.symbol}))},methods:{gt:O.b,get:C.a,getCirculatingSupply:function(){return Object(o.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}}),t)})))()},getTvl:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark((function n(){var e,o;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(e=(new Date).getTime(),!window.localStorage.TVL_last_updated){n.next=6;break}if(o=parseInt(window.localStorage.TVL_last_updated),!(e-o<=6e5)){n.next=6;break}return t.TVL=window.localStorage.TVL,n.abrupt("return");case 6:[],0,t.TVL=Math.round(0),window.localStorage.TVL_last_updated=(new Date).getTime(),window.localStorage.TVL=t.TVL;case 11:case"end":return n.stop()}}),n)})))()},validateNumber:function(t){t.target.value>10&&t.preventDefault()},openFromCoinSelect:function(){var t=this;this.selectFromCoin=!0,this.closeAllModal("coinSelectShow"),setTimeout((function(){t.coinSelectShow=!0}),1)},flush:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:clearInterval(t.marketTimer),t.countdown=0,t.setMarketTimer(),t.$accessor.token.loadTokens(),t.updateCoinInfo(t.wallet.tokenAccounts);case 5:case"end":return n.stop()}}),n)})))()},openToCoinSelect:function(){var t=this;this.selectFromCoin=!1,this.closeAllModal("coinSelectShow"),setTimeout((function(){t.coinSelectShow=!0}),1)},onCoinSelect:function(t){var n,e,o=this;if(console.log("start onCoinSelect"),null!==t)this.selectFromCoin?(this.fromCoin=Object(v.a)(t),console.log("fromCoin",this.fromCoin),(null===(n=this.toCoin)||void 0===n?void 0:n.mintAddress)===t.mintAddress&&(this.toCoin=null,this.changeCoinAmountPosition())):(this.toCoin=Object(v.a)(t),console.log("toCoin",this.toCoin),(null===(e=this.fromCoin)||void 0===e?void 0:e.mintAddress)===t.mintAddress&&(this.fromCoin=null,this.changeCoinAmountPosition()));else{if(null!==this.fromCoin){var r=Object.values(w.c).find((function(t){var n;return t.mintAddress===(null===(n=o.fromCoin)||void 0===n?void 0:n.mintAddress)}));null==r&&(this.fromCoin=null)}if(null!==this.toCoin){var c=Object.values(w.c).find((function(t){var n;return t.mintAddress===(null===(n=o.toCoin)||void 0===n?void 0:n.mintAddress)}));null==c&&(this.toCoin=null)}}this.coinSelectShow=!1,console.log("end onCoinSelect")},setCoinFromMint:function(t,n,e){var o,r,c=this;console.log("start setCoinFromMint"),this.setCoinFromMintLoading=!0;try{this.userNeedAmmIdOrMarket=t,o=n==w.a.mintAddress?w.a:Object.values(w.c).find((function(t){return t.mintAddress===n})),r=e==w.a.mintAddress?w.a:Object.values(w.c).find((function(t){return t.mintAddress===e})),(o||r)&&(o&&(o.balance=Object(C.a)(this.wallet.tokenAccounts,"".concat(o.mintAddress,".balance")),this.fromCoin=o),r&&(r.balance=Object(C.a)(this.wallet.tokenAccounts,"".concat(r.mintAddress,".balance")),this.toCoin=r))}catch(t){this.$notify.warning({message:t.message,description:""})}setTimeout((function(){c.setCoinFromMintLoading=!1,c.findMarket()}),1),console.log("end setCoinFromMint")},needUserCheckUnofficialShow:function(t){var n=this;this.wallet.connected&&(this.closeAllModal("userCheckUnofficialShow"),setTimeout((function(){n.userCheckUnofficialShow=!1}),1))},onAmmIdSelect:function(t){console.log("start onAmmIdSelect"),this.ammIdSelectShow=!1,t?(this.lpMintAddress=t.lp.mintAddress,this.mainAmmId=t.ammId,this.userNeedAmmIdOrMarket=this.mainAmmId,this.officialPool=!0,this.findMarket()):(this.ammIdSelectOld=!0,this.findMarket()),console.log("end onAmmIdSelect")},onAmmIdOrMarketInput:function(t){this.ammIdOrMarketSearchShow=!1,this.setCoinFromMint(t,void 0,void 0),this.findMarket()},onUserCheckUnofficialSelect:function(t,n){if(this.userCheckUnofficialShow=!1,t){if(this.userCheckUnofficial=!0,this.userCheckUnofficialMint=this.mainAmmId,n){var e=localStorage.getItem("".concat(this.wallet.address,"--checkAmmId"));e?localStorage.setItem("".concat(this.wallet.address,"--checkAmmId"),e+"---".concat(this.mainAmmId)):localStorage.setItem("".concat(this.wallet.address,"--checkAmmId"),"".concat(this.mainAmmId))}}else this.fromCoin=null,this.toCoin=null,this.mainAmmId=void 0,this.available_dex=[],this.officialPool=!0},changeCoinPosition:function(){var t=this;this.setCoinFromMintLoading=!0;var n=this.fromCoin,e=this.toCoin,o=this.mainAmmId,r=this.extAmmId;setTimeout((function(){t.setCoinFromMintLoading=!1}),1),this.fromCoin=e,this.toCoin=n,this.mainAmmId=r,this.extAmmId=o,this.changeCoinAmountPosition()},changeCoinAmountPosition:function(){var t=this.fromCoinAmount,n=this.toCoinAmount;this.fromCoinAmount=n,this.toCoinAmount=t},updateCoinInfo:function(t){if(this.fromCoin){var n=t[this.fromCoin.mintAddress];n&&(this.fromCoin=$($({},this.fromCoin),n))}if(this.toCoin){var e=t[this.toCoin.mintAddress];e&&(this.toCoin=$($({},this.toCoin),e))}},checkFromCoinAmount:function(){return parseFloat(this.fromCoinAmount)>parseFloat(this.fromCoin&&this.fromCoin.balance?"SOL"===this.fromCoin.symbol?this.fromCoin.balance.toEther().minus(.05).plus(Object(C.a)(this.wallet.tokenAccounts,"".concat(w.e.mintAddress,".balance"))?Object(C.a)(this.wallet.tokenAccounts,"".concat(w.e.mintAddress,".balance")).toEther():0).toFixed(this.fromCoin.balance.decimals):this.fromCoin.balance.fixed():"0")},findMarket:function(){var t=this;console.log("start findMarket");try{if(this.available_dex=[],this.lpMintAddress="",this.initialized=!0,this.mainAmmId=void 0,this.officialPool=!0,this.fromCoin&&this.toCoin&&this.liquidity.initialized){var n=this.userNeedAmmIdOrMarket;if(Object(j.e)(this.fromCoin.mintAddress,this.toCoin.mintAddress))return this.isWrap=!0,this.initialized=!0,this.officialPool=!0,void(this.mainAmmId=void 0);if(this.fromCoin.mintAddress&&this.toCoin.mintAddress)do{Object(M.g)(this.fromCoin.mintAddress===w.e.mintAddress?w.a.mintAddress:this.fromCoin.mintAddress,this.toCoin.mintAddress===w.e.mintAddress?w.a.mintAddress:this.toCoin.mintAddress,"string"==typeof n?n:void 0).length>0&&this.available_dex.push(S.g);var e=Object(M.g)(this.fromCoin.mintAddress===w.e.mintAddress?w.a.mintAddress:this.fromCoin.mintAddress,w.c.NNI.mintAddress,void 0),o=Object(M.g)(w.c.NNI.mintAddress,this.toCoin.mintAddress===w.e.mintAddress?w.a.mintAddress:this.toCoin.mintAddress,void 0);e.length>0&&o.length>0&&this.available_dex.push(U);var r=Object(M.g)(this.fromCoin.mintAddress===w.e.mintAddress?w.a.mintAddress:this.fromCoin.mintAddress,w.c.USDC.mintAddress,void 0),c=Object(M.g)(w.c.USDC.mintAddress,this.toCoin.mintAddress===w.e.mintAddress?w.a.mintAddress:this.toCoin.mintAddress,void 0);if(r.length>0&&c.length>0&&this.available_dex.push(F),this.available_dex.length>0)break;if(Object(M.k)(this.fromCoin.mintAddress===w.e.mintAddress?w.a.mintAddress:this.fromCoin.mintAddress,this.toCoin.mintAddress===w.e.mintAddress?w.a.mintAddress:this.toCoin.mintAddress,"string"==typeof n?n:void 0).length>0){this.available_dex.push(S.h);break}for(var d="",l=0,m=Object.keys(this.swap.markets);l<m.length;l++){var address=m[l];if(Object(M.l)(address)){var h=Object(v.a)(this.swap.markets[address]),f=this.fromCoin.mintAddress,C=this.toCoin.mintAddress;if(f===w.a.mintAddress&&(f=w.e.mintAddress),C===w.a.mintAddress&&(C=w.e.mintAddress),h.baseMint.toBase58()===f&&h.quoteMint.toBase58()===C||h.baseMint.toBase58()===C&&h.quoteMint.toBase58()===f){d=address;break}}}d&&this.marketAddress!==d&&(this.isWrap=!1,this.marketAddress=d,A.Market.load(this.$web3,new y.PublicKey(d),{},new y.PublicKey(S.w)).then((function(n){t.market=n,t.getOrderBooks(),t.available_dex.push(S.i)})));var k=Object(M.i)(this.fromCoin.mintAddress===w.e.mintAddress?w.a.mintAddress:this.fromCoin.mintAddress,w.c.NNI.mintAddress,void 0),x=Object(M.i)(w.c.NNI.mintAddress,this.toCoin.mintAddress===w.e.mintAddress?w.a.mintAddress:this.toCoin.mintAddress,void 0);if(k.length>0&&x.length>0){this.available_dex.push(P);break}var _=Object(M.i)(this.fromCoin.mintAddress===w.e.mintAddress?w.a.mintAddress:this.fromCoin.mintAddress,w.c.USDC.mintAddress,void 0),O=Object(M.i)(w.c.USDC.mintAddress,this.toCoin.mintAddress===w.e.mintAddress?w.a.mintAddress:this.toCoin.mintAddress,void 0);if(_.length>0&&O.length>0){this.available_dex.push(W);break}}while(0);this.updateUrl(),this.updateAmounts()}else this.mainAmmId=void 0,this.endpoint="",this.marketAddress="",this.market=null,this.lpMintAddress="",this.isWrap=!1}catch(t){this.mainAmmId=void 0,this.endpoint="",this.marketAddress="",this.market=null,this.lpMintAddress="",this.isWrap=!1}console.log("end findMarket")},getOrderBooks:function(){var t=this;console.log("start getOrderBooks"),this.loading=!0,this.asksAndBidsLoading=!0,this.countdown=this.autoRefreshTime;var n=this.$web3;if(this.marketAddress&&Object(C.a)(this.swap.markets,this.marketAddress)){var e=Object(C.a)(this.swap.markets,this.marketAddress),o=e.bids,r=e.asks;Object(x.p)(n,[o,r],x.b).then((function(n){console.log("getMultipleAccounts->1",n.length),n.forEach((function(n){var data=n.account.data,o=A.Orderbook.decode(e,data),r=o.isBids,c=o.slab;r?t.bids=c:t.asks=c,t.asksAndBidsLoading=!1}))})).finally((function(){t.initialized=!0,t.loading=!1,t.countdown=0}))}else this.loading=!1;console.log("end getOrderBooks")},updateAmounts:function(){var t=this;console.log("start updateAmounts()");var n=0;try{if(""==this.fromCoinAmount&&(this.best_dex_type="Unknown"),this.fromCoin&&this.toCoin&&this.fromCoinAmount){if(this.isWrap)return void(this.toCoinAmount=this.fromCoinAmount);this.available_dex.forEach((function(e){if(console.log("dex type",e),e==S.i){if(t.marketAddress&&t.market&&t.asks&&t.bids&&!t.asksAndBidsLoading){var o=Object(_.b)(t.market,t.asks,t.bids,t.fromCoin.mintAddress,t.toCoin.mintAddress,t.fromCoinAmount,t.setting.slippage),r=o.amountOut,c=o.amountOutWithSlippage,d=o.priceImpact,l=new O.a(r,t.toCoin.decimals,!1),m=new O.a(c,t.toCoin.decimals,!1);l.isNullOrZero()||toCoinWithSlippage&&!toCoinWithSlippage.wei.isLessThan(m.wei)||n<parseFloat(l.fixed())&&(n=parseFloat(l.fixed()),t.toCoinAmount=l.fixed(),t.toCoinWithSlippage=m.fixed(),t.outToPirceValue=+new O.a(parseFloat(t.toCoinAmount)/parseFloat(t.fromCoinAmount),t.toCoin.decimals,!1).fixed(),t.priceImpact=d,t.endpoint=S.i,t.best_dex_type="dex")}}else if(e==S.g||e==S.h){console.log("this.fromCoin!.mintAddress",t.fromCoin.mintAddress),console.log("this.toCoin!.mintAddress",t.toCoin.mintAddress);var h=(e==S.g?M.c:M.d)(t.$accessor.liquidity.infos,t.fromCoin.mintAddress,t.toCoin.mintAddress,t.fromCoinAmount,t.setting.slippage);if(!h)return;var f=Object(_.c)(h,t.fromCoin.mintAddress,t.toCoin.mintAddress,t.fromCoinAmount,t.setting.slippage),C=f.amountOut,v=f.amountOutWithSlippage,A=f.priceImpact;C.isNullOrZero()||n<parseFloat(C.fixed())&&(n=parseFloat(C.fixed()),t.toCoinAmount=C.fixed(),t.toCoinWithSlippage=v.fixed(),t.outToPirceValue=+new O.a(parseFloat(t.toCoinAmount)/parseFloat(t.fromCoinAmount),t.toCoin.decimals,!1).fixed(),t.priceImpact=A,t.endpoint=e,t.best_dex_type="single",t.mainAmmId=h.ammId)}else if(e==U||e==P){var k=w.c.NNI.mintAddress;t.midTokenMint=k;var x=(e==U?M.c:M.d)(t.$accessor.liquidity.infos,t.fromCoin.mintAddress,k,t.fromCoinAmount,t.setting.slippage);if(!x)return;var y=Object(_.c)(x,t.fromCoin.mintAddress,k,t.fromCoinAmount,t.setting.slippage),I=y.amountOut,j=y.amountOutWithSlippage,T=(y.priceImpact,(e==U?M.c:M.d)(t.$accessor.liquidity.infos,k,t.toCoin.mintAddress,I.fixed(),t.setting.slippage));if(!T)return;var $=Object(_.c)(T,k,t.toCoin.mintAddress,I.fixed(),t.setting.slippage);$.amountOut.isNullOrZero()||n<parseFloat($.amountOut.fixed())&&(n=parseFloat($.amountOut.fixed()),t.toCoinAmount=$.amountOut.fixed(),t.toCoinWithSlippage=$.amountOutWithSlippage.fixed(),t.midAmountWithSlippage=j.fixed(),t.midAmount=I.fixed(),t.outToPirceValue=+new O.a(parseFloat(t.toCoinAmount)/parseFloat(t.fromCoinAmount),t.toCoin.decimals,!1).fixed(),t.priceImpact=$.priceImpact,t.endpoint=U,t.best_dex_type="multi",t.midTokenSymbol="CRP",t.sub_endpoint_1=Object(M.j)(x.version),t.sub_endpoint_2=Object(M.j)(T.version),t.mainAmmId=x.ammId,t.extAmmId=T.ammId)}else if(e==F||e==W){var B=w.c.USDC.mintAddress;t.midTokenMint=B;var L=(e==F?M.c:M.d)(t.$accessor.liquidity.infos,t.fromCoin.mintAddress,B,t.fromCoinAmount,t.setting.slippage);if(!L)return;var N=Object(_.c)(L,t.fromCoin.mintAddress,B,t.fromCoinAmount,t.setting.slippage),D=N.amountOut,R=N.amountOutWithSlippage,V=(N.priceImpact,(e==F?M.c:M.d)(t.$accessor.liquidity.infos,B,t.toCoin.mintAddress,D.fixed(),t.setting.slippage));if(!V)return;var z=Object(_.c)(V,B,t.toCoin.mintAddress,D.fixed(),t.setting.slippage);z.amountOut.isNullOrZero()||n<parseFloat(z.amountOut.fixed())&&(n=parseFloat(z.amountOut.fixed()),t.toCoinAmount=z.amountOut.fixed(),t.toCoinWithSlippage=z.amountOutWithSlippage.fixed(),t.midAmountWithSlippage=R.fixed(),t.outToPirceValue=+new O.a(parseFloat(t.toCoinAmount)/parseFloat(t.fromCoinAmount),t.toCoin.decimals,!1).fixed(),t.priceImpact=z.priceImpact,t.endpoint=F,t.best_dex_type="multi",t.midTokenSymbol="USDC",t.sub_endpoint_1=Object(M.j)(L.version),t.sub_endpoint_2=Object(M.j)(V.version),t.mainAmmId=L.ammId,t.extAmmId=V.ammId)}}))}}catch(t){}0===n&&(this.toCoinAmount="",this.toCoinWithSlippage="",this.outToPirceValue=0,this.priceImpact=0,this.endpoint="",this.midTokenSymbol=void 0),console.log("end updateAmounts()")},setMarketTimer:function(){var t=this;this.marketTimer=setInterval((function(){t.loading||t.countdown<t.autoRefreshTime&&(t.countdown+=1,t.countdown===t.autoRefreshTime&&(t.getOrderBooks(),t.$accessor.wallet.getTokenAccounts(),t.$accessor.liquidity.initialized&&0==t.$accessor.liquidity.loading&&t.$accessor.liquidity.requestInfos(),t.countdown=0))}),1e3)},needCreateTokens:function(){if(null!==this.fromCoin&&null!==this.toCoin){var t=this.fromCoin.mintAddress,n=this.midTokenMint,e=this.toCoin.mintAddress;return t===w.a.mintAddress&&(t=w.e.mintAddress),n===w.a.mintAddress&&(n=w.e.mintAddress),e===w.a.mintAddress&&(e=w.e.mintAddress),!(Object(C.a)(this.wallet.tokenAccounts,"".concat(t,".tokenAccountAddress"))&&Object(C.a)(this.wallet.tokenAccounts,"".concat(n,".tokenAccountAddress"))&&Object(C.a)(this.wallet.tokenAccounts,"".concat(e,".tokenAccountAddress")))}return!1},needWrapSol:function(){if(null!==this.fromCoin&&[w.a.mintAddress,w.e.mintAddress].includes(this.fromCoin.mintAddress)){var t=Object(C.a)(this.wallet.tokenAccounts,"".concat(w.e.mintAddress,".balance"));t=Math.ceil((t?Number(t.fixed()):0)*Math.pow(10,9));var n=Math.ceil(Number(this.fromCoinAmount)*Math.pow(10,9));if(n>t)return n-t}return 0},unwrap:function(){var t=this,n=Object(I.a)().toString();this.$notify.info({key:n,message:"Making transaction...",description:"",duration:0}),Object(_.j)(this.$web3,this.$wallet,Object(C.a)(this.wallet.tokenAccounts,"".concat(w.e.mintAddress,".tokenAccountAddress"))).then((function(e){t.$notify.info({key:n,message:"Transaction has been sent",description:function(n){return n("div",["Confirmation is in progress.  Check your transaction on ",n("a",{attrs:{href:"".concat(t.url.explorer,"/tx/").concat(e),target:"_blank"}},"here")])}});t.$accessor.transaction.sub({txid:e,description:"Unwrap WSOL"})})).catch((function(e){t.$notify.error({key:n,message:"Unwrap WSOL failed",description:e.message})}))},placeOrder:function(){var t,n,e,o,r=this;this.swaping=!0;var c=Object(I.a)().toString();if(this.$notify.info({key:c,message:"Making transaction...",description:"",duration:0}),this.isWrap)Object(_.l)(this.$axios,this.$web3,this.$wallet,this.fromCoin.mintAddress,this.toCoin.mintAddress,Object(C.a)(this.wallet.tokenAccounts,"".concat(this.fromCoin.mintAddress,".tokenAccountAddress")),Object(C.a)(this.wallet.tokenAccounts,"".concat(this.toCoin.mintAddress,".tokenAccountAddress")),this.fromCoinAmount).then((function(t){var n,e;r.$notify.info({key:c,message:"Transaction has been sent",description:function(n){return n("div",["Confirmation is in progress.  Check your transaction on ",n("a",{attrs:{href:"".concat(r.url.explorer,"/tx/").concat(t),target:"_blank"}},"here")])}});var o="Unwrap ".concat(r.fromCoinAmount," ").concat(null===(n=r.fromCoin)||void 0===n?void 0:n.symbol," to ").concat(r.toCoinAmount," ").concat(null===(e=r.toCoin)||void 0===e?void 0:e.symbol);r.$accessor.transaction.sub({txid:t,description:o})})).catch((function(t){r.$notify.error({key:c,message:"Swap failed",description:t.message})})).finally((function(){r.swaping=!1,r.flush()}));else if(this.endpoint===S.g||this.endpoint===S.h){var d=Object.values(this.$accessor.liquidity.infos).find((function(p){return p.ammId===r.mainAmmId}));Object(_.g)(this.$web3,this.$wallet,d,this.fromCoin.mintAddress,this.toCoin.mintAddress,Object(C.a)(this.wallet.tokenAccounts,"".concat(this.fromCoin.mintAddress,".tokenAccountAddress")),Object(C.a)(this.wallet.tokenAccounts,"".concat(this.toCoin.mintAddress,".tokenAccountAddress")),this.fromCoinAmount,this.toCoinWithSlippage,Object(C.a)(this.wallet.tokenAccounts,"".concat(w.e.mintAddress,".tokenAccountAddress"))).then((function(t){var n,e;r.$notify.info({key:c,message:"Transaction has been sent",description:function(n){return n("div",["Confirmation is in progress.  Check your transaction on ",n("a",{attrs:{href:"".concat(r.url.explorer,"/tx/").concat(t),target:"_blank"}},"here")])}});var o="Swap ".concat(r.fromCoinAmount," ").concat(null===(n=r.fromCoin)||void 0===n?void 0:n.symbol," to ").concat(r.toCoinAmount," ").concat(null===(e=r.toCoin)||void 0===e?void 0:e.symbol);r.$accessor.transaction.sub({txid:t,description:o})})).catch((function(t){r.$notify.error({key:c,message:"Swap failed",description:t.message})})).finally((function(){r.swaping=!1,r.flush()}))}else if(this.endpoint===U||this.endpoint===F)if(this.needCreateTokens()||this.needWrapSol()){var l=null===(t=this.fromCoin)||void 0===t?void 0:t.mintAddress,m=this.midTokenMint,h=null===(n=this.toCoin)||void 0===n?void 0:n.mintAddress;l===w.a.mintAddress&&(l=w.e.mintAddress),m===w.a.mintAddress&&(m=w.e.mintAddress),h===w.a.mintAddress&&(h=w.e.mintAddress),Object(_.e)(this.$web3,this.$wallet,l,Object(C.a)(this.wallet.tokenAccounts,"".concat(l,".tokenAccountAddress")),m,Object(C.a)(this.wallet.tokenAccounts,"".concat(m,".tokenAccountAddress")),h,Object(C.a)(this.wallet.tokenAccounts,"".concat(h,".tokenAccountAddress")),this.needWrapSol()).then((function(t){r.$notify.info({key:c,message:"Transaction has been sent",description:function(n){return n("div",["Confirmation is in progress.  Check your transaction on ",n("a",{attrs:{href:"".concat(r.url.explorer,"/tx/").concat(t),target:"_blank"}},"here")])}});r.$accessor.transaction.sub({txid:t,description:"Create Tokens"})})).catch((function(t){r.$notify.error({key:c,message:"Create Tokens failed",description:t.message})})).finally((function(){r.swaping=!1,r.flush()}))}else{var f=Object.values(this.$accessor.liquidity.infos).find((function(p){return p.ammId===r.mainAmmId})),v=Object.values(this.$accessor.liquidity.infos).find((function(p){return p.ammId===r.extAmmId})),A=(this.endpoint===U?w.c.NNI.symbol:w.c.USDC.symbol,null===(e=this.fromCoin)||void 0===e?void 0:e.mintAddress),k=this.midTokenMint,x=null===(o=this.toCoin)||void 0===o?void 0:o.mintAddress;A===w.a.mintAddress&&(A=w.e.mintAddress),k===w.a.mintAddress&&(k=w.e.mintAddress),x===w.a.mintAddress&&(x=w.e.mintAddress),Object(_.i)(this.$web3,this.$wallet,f,v,this.fromCoin.mintAddress,this.midTokenMint,this.toCoin.mintAddress,Object(C.a)(this.wallet.tokenAccounts,"".concat(A,".tokenAccountAddress")),Object(C.a)(this.wallet.tokenAccounts,"".concat(k,".tokenAccountAddress")),Object(C.a)(this.wallet.tokenAccounts,"".concat(x,".tokenAccountAddress")),this.fromCoinAmount,this.midAmountWithSlippage,Object(C.a)(this.wallet.tokenAccounts,"".concat(w.e.mintAddress,".tokenAccountAddress"))).then((function(t){var n,e;r.$notify.info({key:c,message:"Transaction has been sent",description:function(n){return n("div",["Confirmation is in progress.  Check your transaction on ",n("a",{attrs:{href:"".concat(r.url.explorer,"/tx/").concat(t),target:"_blank"}},"here")])}});var o="Swap ".concat(r.fromCoinAmount," ").concat(null===(n=r.fromCoin)||void 0===n?void 0:n.symbol," to ").concat(r.toCoinAmount," ").concat(null===(e=r.toCoin)||void 0===e?void 0:e.symbol);r.$accessor.transaction.sub({txid:t,description:o}),r.flush()})).catch((function(t){r.$notify.error({key:c,message:"Swap failed",description:t.message})})).finally((function(){r.swaping=!1,r.flush()}))}else Object(_.d)(this.$web3,this.$wallet,this.market,this.asks,this.bids,this.fromCoin.mintAddress,this.toCoin.mintAddress,Object(C.a)(this.wallet.tokenAccounts,"".concat(this.fromCoin.mintAddress,".tokenAccountAddress")),Object(C.a)(this.wallet.tokenAccounts,"".concat(this.toCoin.mintAddress,".tokenAccountAddress")),this.fromCoinAmount,this.setting.slippage).then((function(t){var n,e;r.$notify.info({key:c,message:"Transaction has been sent",description:function(n){return n("div",["Confirmation is in progress.  Check your transaction on ",n("a",{attrs:{href:"".concat(r.url.explorer,"/tx/").concat(t),target:"_blank"}},"here")])}});var o="Swap ".concat(r.fromCoinAmount," ").concat(null===(n=r.fromCoin)||void 0===n?void 0:n.symbol," to ").concat(r.toCoinAmount," ").concat(null===(e=r.toCoin)||void 0===e?void 0:e.symbol);r.$accessor.transaction.sub({txid:t,description:o}),r.flush()})).catch((function(t){r.$notify.error({key:c,message:"Swap failed",description:t.message})})).finally((function(){r.swaping=!1,r.flush()}))},updateUrl:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark((function n(){var e,o,r;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if("/swap/"===t.$route.path){n.next=2;break}return n.abrupt("return");case 2:if(e=t.$route.query,o=e.from,r=e.to,!t.fromCoin||!t.toCoin){n.next=9;break}if(t.fromCoin.mintAddress===o&&t.toCoin.mintAddress===r){n.next=7;break}return n.next=7,t.$router.push({path:"/swap/",query:{from:t.fromCoin.mintAddress,to:t.toCoin.mintAddress}});case 7:n.next=12;break;case 9:if(t.$route.query&&0===Object.keys(t.$route.query).length){n.next=12;break}return n.next=12,t.$router.push({path:"/swap/"});case 12:case"end":return n.stop()}}),n)})))()},closeAllModal:function(t){"coinSelectShow"!==t&&(this.coinSelectShow=!1),"ammIdSelectShow"!==t&&(this.ammIdSelectShow=!1),"userCheckUnofficialShow"!==t&&(this.userCheckUnofficialShow=!1),"ammIdOrMarketSearchShow"!==t&&(this.ammIdOrMarketSearchShow=!1)},fetchUnsettledByMarket:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark((function n(){var e,o,r;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!t.isFetchingUnsettled){n.next=2;break}return n.abrupt("return");case 2:if(t.$web3&&t.$wallet&&t.market){n.next=4;break}return n.abrupt("return");case 4:return t.isFetchingUnsettled=!0,n.prev=5,n.next=8,Object(_.a)(t.$web3,t.$wallet,t.market);case 8:if(r=n.sent){n.next=11;break}throw new Error("not enough data");case 11:t.baseSymbol=null!==(e=r.baseSymbol)&&void 0!==e?e:"",t.baseUnsettledAmount=r.baseUnsettledAmount,t.quoteSymbol=null!==(o=r.quoteSymbol)&&void 0!==o?o:"",t.quoteUnsettledAmount=r.quoteUnsettledAmount,t.unsettledOpenOrders=r.openOrders,t.flush(),n.next=21;break;case 19:n.prev=19,n.t0=n.catch(5);case 21:return n.prev=21,t.isFetchingUnsettled=!1,n.finish(21);case 24:case"end":return n.stop()}}),n,null,[[5,19,21,24]])})))()},settleFunds:function(t){var n=this,e=Object(I.a)().toString();this.$notify.info({key:e,message:"Making transaction...",description:"",duration:0});var o=this.market.baseMintAddress.toBase58(),r=this.market.quoteMintAddress.toBase58(),c=Object(C.a)(this.wallet.tokenAccounts,"".concat(o,".tokenAccountAddress")),d=Object(C.a)(this.wallet.tokenAccounts,"".concat(r,".tokenAccountAddress"));if("quote"===t){var l=[d,c];c=l[0],d=l[1];var m=[r,o];o=m[0],r=m[1]}"quote"===t?this.isSettlingQuote=!0:this.isSettlingBase=!0,Object(_.f)(this.$web3,this.market,this.unsettledOpenOrders,this.$wallet,o,r,c,d).then((function(t){n.$notify.info({key:e,message:"Transaction has been sent",description:function(e){return e("div",["Confirmation is in progress.  Check your transaction on ",e("a",{attrs:{href:"".concat(n.url.explorer,"/tx/").concat(t),target:"_blank"}},"here")])}});n.$accessor.transaction.sub({txid:t,description:"Settle"})})).then((function(){n.fetchUnsettledByMarket(),n.flush()})).catch((function(t){n.$notify.error({key:e,message:"Settle failed",description:t.message}),n.isSettlingQuote=!1,n.isSettlingBase=!1}))},reloadTimer:function(){var t=this;this.activeSpinning=!0,setTimeout((function(){t.activeSpinning=!1}),1e3),this.getOrderBooks(),this.flush(),this.$accessor.wallet.getTokenAccounts()}}}),L=(e(2070),e(2072),e(20)),component=Object(L.a)(B,(function(){var t=this,n=this,o=n.$createElement,r=n._self._c||o;return r("div",[r("div",{staticClass:"swap container"},[n.wsolBalance&&n.wsolBalance.balance.fixed()>0?r("div",{staticClass:"note-unwrapped-sol"},[r("div",{staticClass:"note-content"},[r("img",{staticClass:"note-icon",attrs:{src:e(947)}}),n._v(" "),r("label",{staticClass:"font-small weight-semi"},[n._v("\n          You have "+n._s(n.wsolBalance.balance.fixed())+" "),r("span",{staticStyle:{color:"#23adb4"}},[n._v("wrapped SOL")]),n._v(" in your wallet.\n          Click to unwrap to native SOL.\n        ")])]),n._v(" "),r("Button",{staticClass:"note-btn font-small weight-semi",on:{click:n.unwrap}},[n._v("Unwrap SOL")])],1):n._e(),n._v(" "),n.coinSelectShow?r("CoinSelect",{on:{onClose:function(){return n.coinSelectShow=!1},onSelect:n.onCoinSelect}}):n._e(),n._v(" "),r("AmmIdSelect",{attrs:{show:n.ammIdSelectShow,"liquidity-list":n.ammIdSelectList,"user-close":!0},on:{onClose:function(){return n.ammIdSelectShow=!1,n.ammIdSelectOld=!0},onSelect:n.onAmmIdSelect}}),n._v(" "),n.userCheckUnofficialShow?r("UnofficialPoolConfirmUser",{on:{onClose:function(){return n.userCheckUnofficialShow=!1},onSelect:n.onUserCheckUnofficialSelect}}):n._e(),n._v(" "),n.ammIdOrMarketSearchShow?r("InputAmmIdOrMarket",{on:{onClose:function(){return n.ammIdOrMarketSearchShow=!1},onInput:n.onAmmIdOrMarketInput}}):n._e(),n._v(" "),r("div",{staticClass:"card card-swap"},[r("div",{staticClass:"card-body"},[r("h4",{staticClass:"weight-bold page-title"},[n._v("Swap")]),n._v(" "),r("div",{staticClass:"information"},[r("div",{staticClass:"tvl-info"},[r("p",{staticClass:"font-large weight-semi"},[n._v("TVL : $"+n._s(n.TVL.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")))])]),n._v(" "),r("div",{staticClass:"action-btn-group"},[r("div",{staticClass:"reload-btn icon-cursor",class:n.activeSpinning?"active":"",on:{click:n.reloadTimer}},[r("img",{attrs:{src:e(932)}})]),n._v(" "),r("a",{staticClass:"create-btn icon-cursor",on:{click:function(){t.createdGlobalState?t.createPoolModalOpening=!0:t.createGlobalState()}}},[n.isSuperOwner?r("div",{staticClass:"create-plus-btn font-small weight-semi"},[n._v("\n                "+n._s(this.createdGlobalState?"+ Create pool":"+ Create Program")+"\n              ")]):n._e()])])]),n._v(" "),r("div",{staticClass:"information"},[r("p",{staticClass:"font-large weight-semi"},[n._v("Circulating supply : "+n._s(n.circulatingSupply.toLocaleString()))])]),n._v(" "),r("CoinInput",{attrs:{"balance-offset":n.fromCoin&&"SOL"===n.fromCoin.symbol?-.05:0,"mint-address":n.fromCoin?n.fromCoin.mintAddress:"","coin-name":n.fromCoin?n.fromCoin.symbol:"",balance:n.fromCoin?n.fromCoin.balance:null,"show-max":!0,"show-arrow":!0},on:{onInput:function(t){return n.fromCoinAmount=t},onFocus:function(){n.fixedFromCoin=!0},onMax:function(){n.fixedFromCoin=!0,n.fromCoinAmount=n.fromCoin&&n.fromCoin.balance?n.fromCoin.balance.fixed():"0"},onSelect:n.openFromCoinSelect},model:{value:n.fromCoinAmount,callback:function(t){n.fromCoinAmount=t},expression:"fromCoinAmount"}}),n._v(" "),r("div",{staticClass:"swap-vertical"},[r("div",[r("img",{staticClass:"icon-cursor m-auto",attrs:{src:e(971)},on:{click:n.changeCoinPosition}})])]),n._v(" "),r("CoinInput",{attrs:{"mint-address":n.toCoin?n.toCoin.mintAddress:"","coin-name":n.toCoin?n.toCoin.symbol:"",balance:n.toCoin?n.toCoin.balance:null,"show-max":!0,"show-arrow":!0,disabled:!0},on:{onInput:function(t){return n.toCoinAmount=t},onFocus:function(){n.fixedFromCoin=!1},onMax:function(){n.fixedFromCoin=!1,n.toCoinAmount=n.toCoin.balance.fixed()},onSelect:n.openToCoinSelect},model:{value:n.toCoinAmount,callback:function(t){n.toCoinAmount=t},expression:"toCoinAmount"}}),n._v(" "),r("div",{staticClass:"exchange-info"},[n.fromCoin&&n.toCoin&&n.isWrap&&n.fromCoinAmount?r("div",{staticClass:"font-small weight-semi price-base fcc-container"},[r("span",[n._v("\n              1 "+n._s(n.fromCoin.symbol)+" = 1\n              "+n._s(n.toCoin.symbol)+"\n            ")])]):n.fromCoin&&n.toCoin&&!n.isWrap&&n.fromCoinAmount||n.fromCoin&&n.toCoin&&n.marketAddress&&n.market&&n.asks&&n.bids&&n.fromCoinAmount?r("div",{staticClass:"font-small weight-semi price-base fcc-container"},[r("span",[n._v("\n              1 "+n._s(n.hasPriceSwapped?n.toCoin.symbol:n.fromCoin.symbol)+" =\n              "+n._s(n.hasPriceSwapped?(1/n.outToPirceValue).toFixed(6):n.outToPirceValue)+"\n              "+n._s(n.hasPriceSwapped?n.fromCoin.symbol:n.toCoin.symbol)+"\n              "),r("img",{staticClass:"swap-icon",attrs:{src:e(492)},on:{click:function(){return n.hasPriceSwapped=!n.hasPriceSwapped}}})])]):n._e()]),n._v(" "),n.wallet.connected?r("div",[r("div",{staticClass:"swap-actions fcsb-container"},[r("div",{staticClass:"swap-status font-medium weight-semi"},[n.priceImpact<=2?r("div",{staticClass:"price-status"},[r("img",{staticClass:"status-icon",attrs:{src:e(244)}}),n._v(" "),r("label",{staticClass:"font-medium weight-semi price-impact-green"},[n._v("Fair Price")])]):n.priceImpact>2&&n.priceImpact<=5?r("div",{staticClass:"price-status"},[r("img",{staticClass:"status-icon",attrs:{src:e(947)}}),n._v(" "),r("label",{staticClass:"font-medium weight-semi price-impact-orange"},[n._v("Price impact Warning")])]):n.priceImpact>5?r("div",{staticClass:"price-status"},[r("img",{staticClass:"status-icon",attrs:{src:e(970)}}),n._v(" "),r("label",{staticClass:"font-medium weight-semi price-impact-red"},[n._v("Price impact Warning")])]):n._e()]),n._v(" "),r("div",{staticClass:"action-group"},[r("div",{staticClass:"action-btn-container fcc-container icon-cursor"},[r("div",{on:{click:function(){t.showSlippage=!t.showSlippage}}},[r("img",{staticClass:"setting-icon",attrs:{src:e(968)}})]),n._v(" "),n.showSlippage?r("div",{staticClass:"slippage-container"},[r("input",{directives:[{name:"model",rawName:"v-model",value:n.setting.slippage,expression:"setting.slippage"}],staticClass:"slippage-input",attrs:{id:"number",type:"number",min:"1",max:"100"},domProps:{value:n.setting.slippage},on:{keypress:n.validateNumber,input:function(t){t.target.composing||n.$set(n.setting,"slippage",t.target.value)}}})]):n._e()]),n._v(" "),r("div",{staticClass:"action-btn-container fcc-container icon-cursor",class:n.activeSpinning?"loading":"",on:{click:n.reloadTimer}},[r("img",{staticClass:"load-icon",attrs:{src:e(932)}})])])]),n._v(" "),r("div",{staticClass:"price-info"},[r("div",{staticClass:"info-box"},[r("span",{staticClass:"name"},[r("label",{staticClass:"font-small weight-bold"},[n._v("Pathway")]),n._v(" "),r("Tooltip",{attrs:{placement:"bottomLeft"}},[r("template",{slot:"title"},[n._v("\n                    This trade routes though the following tokens to give you the best price\n                  ")]),n._v(" "),r("img",{staticClass:"tooltip-icon icon-cursor",attrs:{src:e(146)}})],2)],1),n._v(" "),n.fromCoin&&n.toCoin?r("span",{staticClass:"pathway"},[r("div",{staticClass:"coin-box-container"},[r("div",{staticClass:"coin-box"},[r("CoinIcon",{attrs:{"mint-address":n.fromCoin.mintAddress}}),n._v(" "),r("span",{staticClass:"font-small weight-semi"},[n._v(n._s(n.fromCoin.symbol))])],1)]),n._v(" "),r("img",{staticClass:"fst",attrs:{src:e(948)}}),n._v(" "),n.midTokenSymbol?r("div",{staticClass:"coin-box-container"},[r("div",{staticClass:"coin-box"},[r("CoinIcon",{attrs:{"mint-address":n.midTokenMint}}),n._v(" "),r("span",{staticClass:"font-small weight-semi"},[n._v(n._s(n.midTokenSymbol))])],1)]):n._e(),n._v(" "),n.midTokenSymbol?r("img",{staticClass:"fst",attrs:{src:e(948)}}):n._e(),n._v(" "),r("div",{staticClass:"coin-box-container"},[r("div",{staticClass:"coin-box"},[r("CoinIcon",{attrs:{"mint-address":n.toCoin.mintAddress}}),n._v(" "),r("span",{staticClass:"font-small weight-semi"},[n._v(n._s(n.toCoin.symbol))])],1)])]):n._e()]),n._v(" "),n.priceImpact?r("div",{staticClass:"info-box"},[r("span",{staticClass:"name"},[r("label",{staticClass:"font-small weight-bold"},[n._v(" Price Impact ")]),n._v(" "),r("Tooltip",{attrs:{placement:"bottomLeft"}},[r("template",{slot:"title"},[n._v("\n                    The difference between the market price and estimated price due to trade size\n                  ")]),n._v(" "),r("img",{staticClass:"tooltip-icon icon-cursor",attrs:{src:e(146)}})],2)],1),n._v(" "),r("span",{staticClass:"value"},[r("label",{staticClass:"font-small weight-bold"},[n._v(" "+n._s(n.priceImpact.toFixed(2))+"% ")])])]):n._e(),n._v(" "),n.fromCoin&&n.toCoin&&n.fromCoinAmount&&n.toCoinWithSlippage?r("div",{staticClass:"info-box"},[r("span",{staticClass:"name"},[r("label",{staticClass:"font-small weight-bold"},[n._v("Minimum Received")]),n._v(" "),r("Tooltip",{attrs:{placement:"bottomLeft"}},[r("template",{slot:"title"},[n._v(" The least amount of tokens you will receive for this trade ")]),n._v(" "),r("img",{staticClass:"tooltip-icon icon-cursor",attrs:{src:e(146)}})],2)],1),n._v(" "),r("span",{staticClass:"value"},[r("label",{staticClass:"font-small weight-bold"},[n._v(" "+n._s(n.toCoinWithSlippage)+" "+n._s(n.toCoin.symbol)+" ")])])]):n._e()])]):n._e(),n._v(" "),n.wallet.connected?n.officialPool||!n.officialPool&&n.userCheckUnofficial?r("div",{staticClass:"btn-container"},[r("Button",{staticClass:"btn-transparent font-large weight-bold",class:(n.priceImpact>5||n.priceImpact,""),attrs:{disabled:!n.fromCoin||!n.fromCoinAmount||!n.toCoin||!this.mainAmmId||!n.marketAddress&&!n.lpMintAddress&&!n.isWrap&&!n.best_dex_type||!n.initialized||n.loading||n.checkFromCoinAmount()||n.get(n.liquidity.infos,n.lpMintAddress+".status")&&1!==n.get(n.liquidity.infos,n.lpMintAddress+".status")||n.swaping,loading:n.swaping},on:{click:n.placeOrder}},[n.fromCoin&&n.toCoin?(n.marketAddress||n.lpMintAddress||n.isWrap||n.best_dex_type)&&n.initialized?n.fromCoinAmount?n.loading?[n._v(" Updating price information ")]:n.checkFromCoinAmount()?[n._v(" Insufficient "+n._s(n.fromCoin.symbol)+" balance ")]:n.get(n.liquidity.infos,n.lpMintAddress+".status")&&1!==n.get(n.liquidity.infos,n.lpMintAddress+".status")?[n._v("\n              Pool coming soon\n            ")]:"multi"===n.best_dex_type&&(n.needWrapSol()||n.needCreateTokens())?[n._v("Prepare two-step swap")]:[n._v(n._s(n.isWrap?"Unwrap":(n.priceImpact,"Exchange")))]:[n._v(" Enter an amount ")]:[n._v("\n              Insufficient liquidity for this trade\n            ")]:[n._v(" Select")]],2)],1):r("div",{staticClass:"btn-container"},[r("Button",{staticClass:"btn-transparent font-large weight-bold",attrs:{ghost:""},on:{click:function(){n.setTimeout((function(){n.userCheckUnofficialShow=!0}),1)}}},[n._v("\n            Confirm Risk Warning\n          ")])],1):r("div",{staticClass:"btn-container"},[r("Button",{staticClass:"btn-transparent font-large weight-bold",attrs:{ghost:""},on:{click:n.$accessor.wallet.openModal}},[n._v("\n            Connect wallet\n          ")])],1),n._v(" "),n._m(0)],1)]),n._v(" "),r("div",{staticClass:"card-chart"},[r("div",{staticClass:"card card-chart-container"},[r("SwapTokenInfo")],1)])],1)])}),[function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("b",{staticStyle:{color:"#d2cbcb"}},[e("i",[t._v("If you have a new pair suggestion please contact us on telegram.")])])}],!1,null,"58c8bb15",null);n.default=component.exports;installComponents(component,{CoinSelect:e(285).default,AmmIdSelect:e(284).default,UnofficialPoolConfirmUser:e(520).default,InputAmmIdOrMarket:e(513).default,CoinInput:e(245).default,CoinIcon:e(134).default,SwapTokenInfo:e(518).default})}}]);