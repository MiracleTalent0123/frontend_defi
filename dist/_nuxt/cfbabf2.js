(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{1941:function(t,e,n){var content=n(2071);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(24).default)("7553a5e4",content,!0,{sourceMap:!1})},1942:function(t,e,n){var content=n(2073);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(24).default)("7d77d219",content,!0,{sourceMap:!1})},2070:function(t,e,n){"use strict";n(1941)},2071:function(t,e,n){var o=n(23)(!1);o.push([t.i,'.btn-container[data-v-b2e65e9c]{box-shadow:0 4px 4px rgba(0,0,0,.25);border-radius:8px;padding:3px;height:auto}.swap.container[data-v-b2e65e9c]{max-width:1250px;width:100%;padding:15px;margin:50px auto 20px;min-height:calc(100vh - 146px);align-items:flex-start!important;justify-content:space-between;display:flex}@media (max-width:1024px){.swap.container[data-v-b2e65e9c]{display:block}}.swap.container .note-unwrapped-sol[data-v-b2e65e9c]{max-width:440px;background:#40428c;border-radius:18px;padding:8px 18px;margin:auto auto 12px;display:flex;align-items:center}.swap.container .note-unwrapped-sol .note-content[data-v-b2e65e9c]{display:flex;align-items:baseline}.swap.container .note-unwrapped-sol .note-content .note-icon[data-v-b2e65e9c]{margin-right:8px}.swap.container .note-unwrapped-sol .note-btn[data-v-b2e65e9c]{background:linear-gradient(90deg,#273592,#6639e4);box-shadow:0 4px 4px rgba(0,0,0,.25);border-radius:48px;border:none;width:108px;height:33px}.swap.container .note-unwrapped-sol .note-btn[data-v-b2e65e9c]:hover{background:linear-gradient(103.7deg,#6639e4,#273592)}@media (max-width:1024px){.swap.container .note-unwrapped-sol .note-btn[data-v-b2e65e9c]{margin:10px auto auto;display:flex;align-items:center;justify-content:center}}.swap.container .card-swap[data-v-b2e65e9c]{max-width:400px;min-width:400px}.swap.container .card-chart[data-v-b2e65e9c]{width:100%;padding-left:30px}@media (max-width:1024px){.swap.container .card-chart[data-v-b2e65e9c]{padding-left:0;margin-top:30px}}.swap.container .card-chart .card-chart-container[data-v-b2e65e9c]{padding:20px;width:100%}.swap.container .card[data-v-b2e65e9c]{display:inline-block;position:relative;z-index:0;border-radius:18px;box-shadow:inset 0 0 28px rgba(45,11,80,.88235);background:rgba(129,116,245,.5)}.swap.container .card .card-body[data-v-b2e65e9c]{background:transparent;padding:12px 18px}.swap.container .card .card-body .information[data-v-b2e65e9c]{display:flex;align-items:center;justify-content:space-between}@media (max-width:767px){.swap.container .card .card-body .information[data-v-b2e65e9c]{width:100%}}.swap.container .card .card-body .information .tvl-info[data-v-b2e65e9c]{margin-right:18px}.swap.container .card .card-body .information .action-btn-group[data-v-b2e65e9c]{display:flex;align-items:center}.swap.container .card .card-body .information .action-btn-group .reload-btn[data-v-b2e65e9c]{background:linear-gradient(rgba(75,85,231,.65098),rgba(182,97,150,.74902));border-radius:8px;padding:6px;margin-right:18px;display:flex;align-items:center;justify-content:center}@media (max-width:1024px){.swap.container .card .card-body .information .action-btn-group .reload-btn[data-v-b2e65e9c]{margin-left:4px}}.swap.container .card .card-body .information .action-btn-group .reload-btn .reload-icon[data-v-b2e65e9c]{width:18px;height:18px}.swap.container .card .card-body .information .action-btn-group .reload-btn.active .reload-icon[data-v-b2e65e9c]{transform:rotate(1turn);transition:all 1s ease-in-out}.swap.container .card .card-body .page-title[data-v-b2e65e9c]{letter-spacing:.5px;color:#e0f4f6}.swap.container .card .card-body .exchange-info .swap-icon[data-v-b2e65e9c]{margin-left:10px;cursor:pointer}.swap.container .card .card-body .exchange-info .price-base[data-v-b2e65e9c]{letter-spacing:.5px;color:#ccd1f1}.swap.container .card .card-body .swap-actions[data-v-b2e65e9c]{margin-bottom:8px}.swap.container .card .card-body .swap-actions .swap-status .price-status[data-v-b2e65e9c]{display:flex;align-items:center}.swap.container .card .card-body .swap-actions .swap-status .price-status .status-icon[data-v-b2e65e9c]{margin-right:9px}.swap.container .card .card-body .swap-actions .action-group[data-v-b2e65e9c]{display:flex}.swap.container .card .card-body .swap-actions .action-group .action-btn-container[data-v-b2e65e9c]{position:relative;width:24px;height:24px;background:#1f2a75;border-radius:8px;margin-right:8px}.swap.container .card .card-body .swap-actions .action-group .action-btn-container[data-v-b2e65e9c]:last-child{margin-right:0}.swap.container .card .card-body .swap-actions .action-group .action-btn-container.loading .load-icon[data-v-b2e65e9c]{transform:rotate(1turn);transition:all 1s ease-in-out}.swap.container .card .card-body .swap-actions .action-group .action-btn-container .slippage-container[data-v-b2e65e9c]{position:absolute;top:30px;right:0;background:linear-gradient(190.83deg,#336c95 -119.02%,#2e1664 86.38%);background-origin:border-box;border:2px solid hsla(0,0%,100%,.14);box-shadow:18px 11px 14px rgba(0,0,0,.25);border-radius:8px;padding:12px;width:178px;z-index:999}.swap.container .card .card-body .swap-actions .action-group .action-btn-container .slippage-container .slippage-input[data-v-b2e65e9c]{background:hsla(0,0%,100%,.06);border:1px solid hsla(0,0%,100%,.14);box-sizing:border-box;border-radius:6px;width:100%;outline:none;padding:5px 12px}.swap.container .card .card-body .swap-actions .action-group .action-btn-container .slippage-container .slippage-input[data-v-b2e65e9c]::-webkit-inner-spin-button,.swap.container .card .card-body .swap-actions .action-group .action-btn-container .slippage-container .slippage-input[data-v-b2e65e9c]::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}.swap.container .card .card-body .swap-actions .action-group .action-btn-container .slippage-container[data-v-b2e65e9c]:after{content:"%";position:absolute;top:18px;left:55px;transition:all .05s ease-in-out}.swap.container .card .card-body .price-info[data-v-b2e65e9c]{display:grid;grid-auto-rows:auto;grid-row-gap:8px;row-gap:8px;padding:12px;background:#2e1664;border-radius:18px}.swap.container .card .card-body .price-info .info-box .name[data-v-b2e65e9c]{display:flex;align-items:center;color:#98a2e4;margin-bottom:4px}.swap.container .card .card-body .price-info .info-box .name .tooltip-icon[data-v-b2e65e9c]{margin-left:5px}.swap.container .card .card-body .price-info .info-box .value[data-v-b2e65e9c]{color:#ccd1f1}.swap.container .card .card-body .price-info .info-box .pathway[data-v-b2e65e9c]{display:flex}.swap.container .card .card-body .price-info .info-box .pathway .coin-box-container[data-v-b2e65e9c]{background:linear-gradient(97.63deg,#280c86 -29.92%,#22b5b6 103.89%);padding:2px;border-radius:8px}.swap.container .card .card-body .price-info .info-box .pathway .coin-box-container .coin-box[data-v-b2e65e9c]{display:flex;align-items:center;height:100%;padding:8px;background:#2e1664;border-radius:8px}.swap.container .card .card-body .price-info .info-box .pathway .coin-box-container .coin-box img[data-v-b2e65e9c]{width:12px;height:12px;margin-right:4px;border-radius:50%}.swap.container .card .card-body .price-info .info-box .pathway .fst[data-v-b2e65e9c]{margin:10px}@media (max-width:1024px){.swap.container .card[data-v-b2e65e9c]{min-width:100%}}.btn-transparent[data-v-b2e65e9c]{border-radius:8px;height:44px;width:100%}.btn-transparent[data-v-b2e65e9c],.btn-transparent[disabled][data-v-b2e65e9c]:focus,.btn-transparent[disabled][data-v-b2e65e9c]:hover{background:transparent;border:none}.price-impact-orange[data-v-b2e65e9c]{color:#ffb900!important}.price-impact-green[data-v-b2e65e9c]{color:#31b79f!important}.price-impact-red[data-v-b2e65e9c]{color:#fda095!important}.swap-vertical[data-v-b2e65e9c]{margin-bottom:-8px}.swap-vertical[data-v-b2e65e9c],.swap-vertical div[data-v-b2e65e9c]{display:flex;justify-content:center}.swap-vertical div[data-v-b2e65e9c]{background:linear-gradient(rgba(75,85,231,.65098),rgba(182,97,150,.74902));width:28px;height:28px;align-items:center;border-radius:50%;transition:.3s}.swap-vertical div[data-v-b2e65e9c]:hover{transform:scale(1.1)}',""]),t.exports=o},2072:function(t,e,n){"use strict";n(1942)},2073:function(t,e,n){var o=n(23)(!1);o.push([t.i,".ant-tooltip-inner{width:160px}.ant-tooltip-arrow{display:none}",""]),t.exports=o},2093:function(t,e,n){"use strict";n.r(e);n(50),n(69),n(56),n(85);var o=n(7),r=n(38),c=(n(96),n(43)),d=n.n(c),l=(n(278),n(207)),m=n.n(l),h=(n(45),n(111),n(158),n(147),n(148),n(191),n(62),n(35),n(39),n(97),n(124),n(135),n(95),n(110),n(347),n(13)),f=n(65),C=n(1895),v=n(75),A=n(130),w=n(5),k=n(93),x=n(12),y=n(1),S=n(10),_=n(155),O=n(16),I=n(167),j=n(87),M=n(30);function T(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function $(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?T(Object(source),!0).forEach((function(e){Object(r.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):T(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var U="Two-Step Swap with CRP",F="Two-Step Swap with USDC",P="Mixed two-Step Swap with CRP ",W="Mixed Two-Step Swap with USDC",B=h.default.extend({components:{Tooltip:m.a,Button:d.a},data:function(){return{TOKENS:w.c,TVL:0,solBalance:null,wsolBalance:null,autoRefreshTime:60,countdown:0,marketTimer:null,initialized:!1,loading:!1,swaping:!1,asks:{},bids:{},isFetchingUnsettled:!1,unsettledOpenOrders:null,baseSymbol:"",baseUnsettledAmount:0,isSettlingBase:!1,quoteSymbol:"",quoteUnsettledAmount:0,isSettlingQuote:!1,coinSelectShow:!1,selectFromCoin:!0,fixedFromCoin:!0,fromCoin:null,toCoin:null,fromCoinAmount:"",toCoinAmount:"",toCoinWithSlippage:"",midAmount:"",midAmountWithSlippage:"",isWrap:!1,market:null,marketAddress:"",lpMintAddress:"",endpoint:"",priceImpact:0,coinBasePrice:!0,outToPirceValue:0,hasPriceSwapped:!1,officialPool:!0,userCheckUnofficial:!0,userCheckUnofficialMint:void 0,userCheckUnofficialShow:!1,mainAmmId:void 0,available_dex:[],best_dex_type:void 0,midTokenSymbol:void 0,midTokenMint:void 0,extAmmId:void 0,ammIdSelectShow:!1,ammIdSelectList:[],ammIdSelectOld:!1,ammIdOrMarketSearchShow:!1,userNeedAmmIdOrMarket:void 0,setCoinFromMintLoading:!1,asksAndBidsLoading:!0,windowWidth:0,sub_endpoint_1:void 0,sub_endpoint_2:void 0,endpoint_multi_crp:"Two-Step Swap with CRP",endpoint_multi_usdc:"Two-Step Swap with USDC",activeSpinning:!1,showInformations:!1,showSlippage:!1,showPercentage:!1}},head:{title:"NeoNomad Finance - Swap"},computed:$({},Object(f.e)(["wallet","swap","liquidity","url","setting","token"])),watch:{fromCoinAmount:function(t,e){var n=this;this.$nextTick((function(){console.log("start fromCoinAmount()"),k.b.test(Object(k.a)(t))?n.updateAmounts():n.fromCoinAmount=e,console.log("end fromCoinAmount()")}))},"wallet.tokenAccounts":{handler:function(t){console.log("start wallet.tokenAccounts()"),this.updateCoinInfo(t),this.findMarket(),this.mainAmmId&&this.needUserCheckUnofficialShow(this.mainAmmId),this.market&&this.fetchUnsettledByMarket(),this.solBalance=this.wallet.tokenAccounts[w.a.mintAddress],this.wsolBalance=this.wallet.tokenAccounts[w.e.mintAddress],this.flush();var e=this.$route.query,n=e.from,o=e.to,r=e.ammId;this.setCoinFromMint(r,n,o),o||(this.toCoin=Object.values(w.c).find((function(t){return"NNI"===t.symbol}))),n||(this.fromCoin=Object.values(w.c).find((function(t){return"USDC"===t.symbol}))),console.log("end wallet.tokenAccounts()")},deep:!0},fromCoin:function(t,e){console.log("start fromCoin()"),this.setCoinFromMintLoading||null!==e&&null!==t&&t.mintAddress===e.mintAddress||(this.userNeedAmmIdOrMarket=void 0,this.best_dex_type=void 0,this.findMarket(),this.fromCoinAmount="",this.toCoinAmount="",this.ammIdSelectOld=!1),console.log("end fromCoin()")},baseUnsettledAmount:function(){this.isSettlingBase=!1},quoteUnsettledAmount:function(){this.isSettlingQuote=!1},toCoin:function(t,e){console.log("start toCoin()"),this.setCoinFromMintLoading||null!==e&&null!==t&&t.mintAddress===e.mintAddress||(this.userNeedAmmIdOrMarket=void 0,this.best_dex_type=void 0,this.findMarket(),this.fromCoinAmount="",this.toCoinAmount="",this.ammIdSelectOld=!1),console.log("end toCoin()")},market:function(){console.log("start market()"),this.baseSymbol="",this.baseUnsettledAmount=0,this.quoteSymbol="",this.quoteUnsettledAmount=0,this.unsettledOpenOrders=null,this.fetchUnsettledByMarket(),console.log("end market()")},marketAddress:function(){this.updateAmounts()},asks:function(){this.updateAmounts()},bids:function(){this.updateAmounts()},"liquidity.infos":{handler:function(t){var e=this.$route.query,n=e.from,o=e.to,r=e.ammId;this.setCoinFromMint(r,n,o),this.findMarket()},deep:!0},"token.initialized":{handler:function(t){this.toCoin=Object(w.g)("NNI"),this.fromCoin=Object(w.g)("USDC");var e=this.$route.query,n=e.from,o=e.to,r=e.ammId;this.setCoinFromMint(r,n,o)},deep:!0},"swap.markets":{handler:function(t){this.findMarket()},deep:!0},"setting.slippage":{handler:function(){this.updateAmounts()},deep:!0}},mounted:function(){this.getTvl(),this.$accessor.token.loadTokens(),this.$accessor.wallet.getTokenAccounts(),this.updateCoinInfo(this.wallet.tokenAccounts),this.setMarketTimer();var t=this.$route.query,e=t.from,n=t.to,o=t.ammId;this.setCoinFromMint(o,e,n),this.toCoin=Object.values(w.c).find((function(t){return"NNI"===t.symbol})),this.fromCoin=Object.values(w.c).find((function(t){return"USDC"===t.symbol}))},methods:{gt:O.b,get:C.a,getTvl:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark((function e(){var n,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=(new Date).getTime(),!window.localStorage.TVL_last_updated){e.next=6;break}if(o=parseInt(window.localStorage.TVL_last_updated),!(n-o<=6e5)){e.next=6;break}return t.TVL=window.localStorage.TVL,e.abrupt("return");case 6:[],0,t.TVL=Math.round(0),window.localStorage.TVL_last_updated=(new Date).getTime(),window.localStorage.TVL=t.TVL;case 11:case"end":return e.stop()}}),e)})))()},validateNumber:function(t){t.target.value>10&&t.preventDefault()},openFromCoinSelect:function(){var t=this;this.selectFromCoin=!0,this.closeAllModal("coinSelectShow"),setTimeout((function(){t.coinSelectShow=!0}),1)},flush:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:clearInterval(t.marketTimer),t.countdown=0,t.setMarketTimer(),t.$accessor.token.loadTokens(),t.updateCoinInfo(t.wallet.tokenAccounts);case 5:case"end":return e.stop()}}),e)})))()},openToCoinSelect:function(){var t=this;this.selectFromCoin=!1,this.closeAllModal("coinSelectShow"),setTimeout((function(){t.coinSelectShow=!0}),1)},onCoinSelect:function(t){var e,n,o=this;if(console.log("start onCoinSelect"),null!==t)this.selectFromCoin?(this.fromCoin=Object(v.a)(t),console.log("fromCoin",this.fromCoin),(null===(e=this.toCoin)||void 0===e?void 0:e.mintAddress)===t.mintAddress&&(this.toCoin=null,this.changeCoinAmountPosition())):(this.toCoin=Object(v.a)(t),console.log("toCoin",this.toCoin),(null===(n=this.fromCoin)||void 0===n?void 0:n.mintAddress)===t.mintAddress&&(this.fromCoin=null,this.changeCoinAmountPosition()));else{if(null!==this.fromCoin){var r=Object.values(w.c).find((function(t){var e;return t.mintAddress===(null===(e=o.fromCoin)||void 0===e?void 0:e.mintAddress)}));null==r&&(this.fromCoin=null)}if(null!==this.toCoin){var c=Object.values(w.c).find((function(t){var e;return t.mintAddress===(null===(e=o.toCoin)||void 0===e?void 0:e.mintAddress)}));null==c&&(this.toCoin=null)}}this.coinSelectShow=!1,console.log("end onCoinSelect")},setCoinFromMint:function(t,e,n){var o,r,c=this;console.log("start setCoinFromMint"),this.setCoinFromMintLoading=!0;try{this.userNeedAmmIdOrMarket=t,o=e==w.a.mintAddress?w.a:Object.values(w.c).find((function(t){return t.mintAddress===e})),r=n==w.a.mintAddress?w.a:Object.values(w.c).find((function(t){return t.mintAddress===n})),(o||r)&&(o&&(o.balance=Object(C.a)(this.wallet.tokenAccounts,"".concat(o.mintAddress,".balance")),this.fromCoin=o),r&&(r.balance=Object(C.a)(this.wallet.tokenAccounts,"".concat(r.mintAddress,".balance")),this.toCoin=r))}catch(t){this.$notify.warning({message:t.message,description:""})}setTimeout((function(){c.setCoinFromMintLoading=!1,c.findMarket()}),1),console.log("end setCoinFromMint")},needUserCheckUnofficialShow:function(t){var e=this;this.wallet.connected&&(this.closeAllModal("userCheckUnofficialShow"),setTimeout((function(){e.userCheckUnofficialShow=!1}),1))},onAmmIdSelect:function(t){console.log("start onAmmIdSelect"),this.ammIdSelectShow=!1,t?(this.lpMintAddress=t.lp.mintAddress,this.mainAmmId=t.ammId,this.userNeedAmmIdOrMarket=this.mainAmmId,this.officialPool=!0,this.findMarket()):(this.ammIdSelectOld=!0,this.findMarket()),console.log("end onAmmIdSelect")},onAmmIdOrMarketInput:function(t){this.ammIdOrMarketSearchShow=!1,this.setCoinFromMint(t,void 0,void 0),this.findMarket()},onUserCheckUnofficialSelect:function(t,e){if(this.userCheckUnofficialShow=!1,t){if(this.userCheckUnofficial=!0,this.userCheckUnofficialMint=this.mainAmmId,e){var n=localStorage.getItem("".concat(this.wallet.address,"--checkAmmId"));n?localStorage.setItem("".concat(this.wallet.address,"--checkAmmId"),n+"---".concat(this.mainAmmId)):localStorage.setItem("".concat(this.wallet.address,"--checkAmmId"),"".concat(this.mainAmmId))}}else this.fromCoin=null,this.toCoin=null,this.mainAmmId=void 0,this.available_dex=[],this.officialPool=!0},changeCoinPosition:function(){var t=this;this.setCoinFromMintLoading=!0;var e=this.fromCoin,n=this.toCoin,o=this.mainAmmId,r=this.extAmmId;setTimeout((function(){t.setCoinFromMintLoading=!1}),1),this.fromCoin=n,this.toCoin=e,this.mainAmmId=r,this.extAmmId=o,this.changeCoinAmountPosition()},changeCoinAmountPosition:function(){var t=this.fromCoinAmount,e=this.toCoinAmount;this.fromCoinAmount=e,this.toCoinAmount=t},updateCoinInfo:function(t){if(this.fromCoin){var e=t[this.fromCoin.mintAddress];e&&(this.fromCoin=$($({},this.fromCoin),e))}if(this.toCoin){var n=t[this.toCoin.mintAddress];n&&(this.toCoin=$($({},this.toCoin),n))}},checkFromCoinAmount:function(){return parseFloat(this.fromCoinAmount)>parseFloat(this.fromCoin&&this.fromCoin.balance?"SOL"===this.fromCoin.symbol?this.fromCoin.balance.toEther().minus(.05).plus(Object(C.a)(this.wallet.tokenAccounts,"".concat(w.e.mintAddress,".balance"))?Object(C.a)(this.wallet.tokenAccounts,"".concat(w.e.mintAddress,".balance")).toEther():0).toFixed(this.fromCoin.balance.decimals):this.fromCoin.balance.fixed():"0")},findMarket:function(){var t=this;console.log("start findMarket");try{if(this.available_dex=[],this.lpMintAddress="",this.initialized=!0,this.mainAmmId=void 0,this.officialPool=!0,this.fromCoin&&this.toCoin&&this.liquidity.initialized){var e=this.userNeedAmmIdOrMarket;if(Object(j.e)(this.fromCoin.mintAddress,this.toCoin.mintAddress))return this.isWrap=!0,this.initialized=!0,this.officialPool=!0,void(this.mainAmmId=void 0);if(this.fromCoin.mintAddress&&this.toCoin.mintAddress)do{Object(M.g)(this.fromCoin.mintAddress===w.e.mintAddress?w.a.mintAddress:this.fromCoin.mintAddress,this.toCoin.mintAddress===w.e.mintAddress?w.a.mintAddress:this.toCoin.mintAddress,"string"==typeof e?e:void 0).length>0&&this.available_dex.push(S.g);var n=Object(M.g)(this.fromCoin.mintAddress===w.e.mintAddress?w.a.mintAddress:this.fromCoin.mintAddress,w.c.NNI.mintAddress,void 0),o=Object(M.g)(w.c.NNI.mintAddress,this.toCoin.mintAddress===w.e.mintAddress?w.a.mintAddress:this.toCoin.mintAddress,void 0);n.length>0&&o.length>0&&this.available_dex.push(U);var r=Object(M.g)(this.fromCoin.mintAddress===w.e.mintAddress?w.a.mintAddress:this.fromCoin.mintAddress,w.c.USDC.mintAddress,void 0),c=Object(M.g)(w.c.USDC.mintAddress,this.toCoin.mintAddress===w.e.mintAddress?w.a.mintAddress:this.toCoin.mintAddress,void 0);if(r.length>0&&c.length>0&&this.available_dex.push(F),this.available_dex.length>0)break;if(Object(M.k)(this.fromCoin.mintAddress===w.e.mintAddress?w.a.mintAddress:this.fromCoin.mintAddress,this.toCoin.mintAddress===w.e.mintAddress?w.a.mintAddress:this.toCoin.mintAddress,"string"==typeof e?e:void 0).length>0){this.available_dex.push(S.h);break}for(var d="",l=0,m=Object.keys(this.swap.markets);l<m.length;l++){var address=m[l];if(Object(M.l)(address)){var h=Object(v.a)(this.swap.markets[address]),f=this.fromCoin.mintAddress,C=this.toCoin.mintAddress;if(f===w.a.mintAddress&&(f=w.e.mintAddress),C===w.a.mintAddress&&(C=w.e.mintAddress),h.baseMint.toBase58()===f&&h.quoteMint.toBase58()===C||h.baseMint.toBase58()===C&&h.quoteMint.toBase58()===f){d=address;break}}}d&&this.marketAddress!==d&&(this.isWrap=!1,this.marketAddress=d,A.Market.load(this.$web3,new y.PublicKey(d),{},new y.PublicKey(S.w)).then((function(e){t.market=e,t.getOrderBooks(),t.available_dex.push(S.i)})));var k=Object(M.i)(this.fromCoin.mintAddress===w.e.mintAddress?w.a.mintAddress:this.fromCoin.mintAddress,w.c.NNI.mintAddress,void 0),x=Object(M.i)(w.c.NNI.mintAddress,this.toCoin.mintAddress===w.e.mintAddress?w.a.mintAddress:this.toCoin.mintAddress,void 0);if(k.length>0&&x.length>0){this.available_dex.push(P);break}var _=Object(M.i)(this.fromCoin.mintAddress===w.e.mintAddress?w.a.mintAddress:this.fromCoin.mintAddress,w.c.USDC.mintAddress,void 0),O=Object(M.i)(w.c.USDC.mintAddress,this.toCoin.mintAddress===w.e.mintAddress?w.a.mintAddress:this.toCoin.mintAddress,void 0);if(_.length>0&&O.length>0){this.available_dex.push(W);break}}while(0);this.updateUrl(),this.updateAmounts()}else this.mainAmmId=void 0,this.endpoint="",this.marketAddress="",this.market=null,this.lpMintAddress="",this.isWrap=!1}catch(t){this.mainAmmId=void 0,this.endpoint="",this.marketAddress="",this.market=null,this.lpMintAddress="",this.isWrap=!1}console.log("end findMarket")},getOrderBooks:function(){var t=this;console.log("start getOrderBooks"),this.loading=!0,this.asksAndBidsLoading=!0,this.countdown=this.autoRefreshTime;var e=this.$web3;if(this.marketAddress&&Object(C.a)(this.swap.markets,this.marketAddress)){var n=Object(C.a)(this.swap.markets,this.marketAddress),o=n.bids,r=n.asks;Object(x.p)(e,[o,r],x.b).then((function(e){console.log("getMultipleAccounts->1",e.length),e.forEach((function(e){var data=e.account.data,o=A.Orderbook.decode(n,data),r=o.isBids,c=o.slab;r?t.bids=c:t.asks=c,t.asksAndBidsLoading=!1}))})).finally((function(){t.initialized=!0,t.loading=!1,t.countdown=0}))}else this.loading=!1;console.log("end getOrderBooks")},updateAmounts:function(){var t=this;console.log("start updateAmounts()");var e=0;try{if(""==this.fromCoinAmount&&(this.best_dex_type="Unknown"),this.fromCoin&&this.toCoin&&this.fromCoinAmount){if(this.isWrap)return void(this.toCoinAmount=this.fromCoinAmount);this.available_dex.forEach((function(n){if(console.log("dex type",n),n==S.i){if(t.marketAddress&&t.market&&t.asks&&t.bids&&!t.asksAndBidsLoading){var o=Object(_.b)(t.market,t.asks,t.bids,t.fromCoin.mintAddress,t.toCoin.mintAddress,t.fromCoinAmount,t.setting.slippage),r=o.amountOut,c=o.amountOutWithSlippage,d=o.priceImpact,l=new O.a(r,t.toCoin.decimals,!1),m=new O.a(c,t.toCoin.decimals,!1);l.isNullOrZero()||toCoinWithSlippage&&!toCoinWithSlippage.wei.isLessThan(m.wei)||e<parseFloat(l.fixed())&&(e=parseFloat(l.fixed()),t.toCoinAmount=l.fixed(),t.toCoinWithSlippage=m.fixed(),t.outToPirceValue=+new O.a(parseFloat(t.toCoinAmount)/parseFloat(t.fromCoinAmount),t.toCoin.decimals,!1).fixed(),t.priceImpact=d,t.endpoint=S.i,t.best_dex_type="dex")}}else if(n==S.g||n==S.h){console.log("this.fromCoin!.mintAddress",t.fromCoin.mintAddress),console.log("this.toCoin!.mintAddress",t.toCoin.mintAddress);var h=(n==S.g?M.c:M.d)(t.$accessor.liquidity.infos,t.fromCoin.mintAddress,t.toCoin.mintAddress,t.fromCoinAmount,t.setting.slippage);if(!h)return;var f=Object(_.c)(h,t.fromCoin.mintAddress,t.toCoin.mintAddress,t.fromCoinAmount,t.setting.slippage),C=f.amountOut,v=f.amountOutWithSlippage,A=f.priceImpact;C.isNullOrZero()||e<parseFloat(C.fixed())&&(e=parseFloat(C.fixed()),t.toCoinAmount=C.fixed(),t.toCoinWithSlippage=v.fixed(),t.outToPirceValue=+new O.a(parseFloat(t.toCoinAmount)/parseFloat(t.fromCoinAmount),t.toCoin.decimals,!1).fixed(),t.priceImpact=A,t.endpoint=n,t.best_dex_type="single",t.mainAmmId=h.ammId)}else if(n==U||n==P){var k=w.c.NNI.mintAddress;t.midTokenMint=k;var x=(n==U?M.c:M.d)(t.$accessor.liquidity.infos,t.fromCoin.mintAddress,k,t.fromCoinAmount,t.setting.slippage);if(!x)return;var y=Object(_.c)(x,t.fromCoin.mintAddress,k,t.fromCoinAmount,t.setting.slippage),I=y.amountOut,j=y.amountOutWithSlippage,T=(y.priceImpact,(n==U?M.c:M.d)(t.$accessor.liquidity.infos,k,t.toCoin.mintAddress,I.fixed(),t.setting.slippage));if(!T)return;var $=Object(_.c)(T,k,t.toCoin.mintAddress,I.fixed(),t.setting.slippage);$.amountOut.isNullOrZero()||e<parseFloat($.amountOut.fixed())&&(e=parseFloat($.amountOut.fixed()),t.toCoinAmount=$.amountOut.fixed(),t.toCoinWithSlippage=$.amountOutWithSlippage.fixed(),t.midAmountWithSlippage=j.fixed(),t.midAmount=I.fixed(),t.outToPirceValue=+new O.a(parseFloat(t.toCoinAmount)/parseFloat(t.fromCoinAmount),t.toCoin.decimals,!1).fixed(),t.priceImpact=$.priceImpact,t.endpoint=U,t.best_dex_type="multi",t.midTokenSymbol="CRP",t.sub_endpoint_1=Object(M.j)(x.version),t.sub_endpoint_2=Object(M.j)(T.version),t.mainAmmId=x.ammId,t.extAmmId=T.ammId)}else if(n==F||n==W){var B=w.c.USDC.mintAddress;t.midTokenMint=B;var N=(n==F?M.c:M.d)(t.$accessor.liquidity.infos,t.fromCoin.mintAddress,B,t.fromCoinAmount,t.setting.slippage);if(!N)return;var L=Object(_.c)(N,t.fromCoin.mintAddress,B,t.fromCoinAmount,t.setting.slippage),D=L.amountOut,V=L.amountOutWithSlippage,R=(L.priceImpact,(n==F?M.c:M.d)(t.$accessor.liquidity.infos,B,t.toCoin.mintAddress,D.fixed(),t.setting.slippage));if(!R)return;var z=Object(_.c)(R,B,t.toCoin.mintAddress,D.fixed(),t.setting.slippage);z.amountOut.isNullOrZero()||e<parseFloat(z.amountOut.fixed())&&(e=parseFloat(z.amountOut.fixed()),t.toCoinAmount=z.amountOut.fixed(),t.toCoinWithSlippage=z.amountOutWithSlippage.fixed(),t.midAmountWithSlippage=V.fixed(),t.outToPirceValue=+new O.a(parseFloat(t.toCoinAmount)/parseFloat(t.fromCoinAmount),t.toCoin.decimals,!1).fixed(),t.priceImpact=z.priceImpact,t.endpoint=F,t.best_dex_type="multi",t.midTokenSymbol="USDC",t.sub_endpoint_1=Object(M.j)(N.version),t.sub_endpoint_2=Object(M.j)(R.version),t.mainAmmId=N.ammId,t.extAmmId=R.ammId)}}))}}catch(t){}0===e&&(this.toCoinAmount="",this.toCoinWithSlippage="",this.outToPirceValue=0,this.priceImpact=0,this.endpoint="",this.midTokenSymbol=void 0),console.log("end updateAmounts()")},setMarketTimer:function(){var t=this;this.marketTimer=setInterval((function(){t.loading||t.countdown<t.autoRefreshTime&&(t.countdown+=1,t.countdown===t.autoRefreshTime&&(t.getOrderBooks(),t.$accessor.wallet.getTokenAccounts(),t.$accessor.liquidity.initialized&&0==t.$accessor.liquidity.loading&&t.$accessor.liquidity.requestInfos(),t.countdown=0))}),1e3)},needCreateTokens:function(){if(null!==this.fromCoin&&null!==this.toCoin){var t=this.fromCoin.mintAddress,e=this.midTokenMint,n=this.toCoin.mintAddress;return t===w.a.mintAddress&&(t=w.e.mintAddress),e===w.a.mintAddress&&(e=w.e.mintAddress),n===w.a.mintAddress&&(n=w.e.mintAddress),!(Object(C.a)(this.wallet.tokenAccounts,"".concat(t,".tokenAccountAddress"))&&Object(C.a)(this.wallet.tokenAccounts,"".concat(e,".tokenAccountAddress"))&&Object(C.a)(this.wallet.tokenAccounts,"".concat(n,".tokenAccountAddress")))}return!1},needWrapSol:function(){if(null!==this.fromCoin&&[w.a.mintAddress,w.e.mintAddress].includes(this.fromCoin.mintAddress)){var t=Object(C.a)(this.wallet.tokenAccounts,"".concat(w.e.mintAddress,".balance"));t=Math.ceil((t?Number(t.fixed()):0)*Math.pow(10,9));var e=Math.ceil(Number(this.fromCoinAmount)*Math.pow(10,9));if(e>t)return e-t}return 0},unwrap:function(){var t=this,e=Object(I.a)().toString();this.$notify.info({key:e,message:"Making transaction...",description:"",duration:0}),Object(_.j)(this.$web3,this.$wallet,Object(C.a)(this.wallet.tokenAccounts,"".concat(w.e.mintAddress,".tokenAccountAddress"))).then((function(n){t.$notify.info({key:e,message:"Transaction has been sent",description:function(e){return e("div",["Confirmation is in progress.  Check your transaction on ",e("a",{attrs:{href:"".concat(t.url.explorer,"/tx/").concat(n),target:"_blank"}},"here")])}});t.$accessor.transaction.sub({txid:n,description:"Unwrap WSOL"})})).catch((function(n){t.$notify.error({key:e,message:"Unwrap WSOL failed",description:n.message})}))},placeOrder:function(){var t,e,n,o,r=this;this.swaping=!0;var c=Object(I.a)().toString();if(this.$notify.info({key:c,message:"Making transaction...",description:"",duration:0}),this.isWrap)Object(_.l)(this.$axios,this.$web3,this.$wallet,this.fromCoin.mintAddress,this.toCoin.mintAddress,Object(C.a)(this.wallet.tokenAccounts,"".concat(this.fromCoin.mintAddress,".tokenAccountAddress")),Object(C.a)(this.wallet.tokenAccounts,"".concat(this.toCoin.mintAddress,".tokenAccountAddress")),this.fromCoinAmount).then((function(t){var e,n;r.$notify.info({key:c,message:"Transaction has been sent",description:function(e){return e("div",["Confirmation is in progress.  Check your transaction on ",e("a",{attrs:{href:"".concat(r.url.explorer,"/tx/").concat(t),target:"_blank"}},"here")])}});var o="Unwrap ".concat(r.fromCoinAmount," ").concat(null===(e=r.fromCoin)||void 0===e?void 0:e.symbol," to ").concat(r.toCoinAmount," ").concat(null===(n=r.toCoin)||void 0===n?void 0:n.symbol);r.$accessor.transaction.sub({txid:t,description:o})})).catch((function(t){r.$notify.error({key:c,message:"Swap failed",description:t.message})})).finally((function(){r.swaping=!1,r.flush()}));else if(this.endpoint===S.g||this.endpoint===S.h){var d=Object.values(this.$accessor.liquidity.infos).find((function(p){return p.ammId===r.mainAmmId}));Object(_.g)(this.$web3,this.$wallet,d,this.fromCoin.mintAddress,this.toCoin.mintAddress,Object(C.a)(this.wallet.tokenAccounts,"".concat(this.fromCoin.mintAddress,".tokenAccountAddress")),Object(C.a)(this.wallet.tokenAccounts,"".concat(this.toCoin.mintAddress,".tokenAccountAddress")),this.fromCoinAmount,this.toCoinWithSlippage,Object(C.a)(this.wallet.tokenAccounts,"".concat(w.e.mintAddress,".tokenAccountAddress"))).then((function(t){var e,n;r.$notify.info({key:c,message:"Transaction has been sent",description:function(e){return e("div",["Confirmation is in progress.  Check your transaction on ",e("a",{attrs:{href:"".concat(r.url.explorer,"/tx/").concat(t),target:"_blank"}},"here")])}});var o="Swap ".concat(r.fromCoinAmount," ").concat(null===(e=r.fromCoin)||void 0===e?void 0:e.symbol," to ").concat(r.toCoinAmount," ").concat(null===(n=r.toCoin)||void 0===n?void 0:n.symbol);r.$accessor.transaction.sub({txid:t,description:o})})).catch((function(t){r.$notify.error({key:c,message:"Swap failed",description:t.message})})).finally((function(){r.swaping=!1,r.flush()}))}else if(this.endpoint===U||this.endpoint===F)if(this.needCreateTokens()||this.needWrapSol()){var l=null===(t=this.fromCoin)||void 0===t?void 0:t.mintAddress,m=this.midTokenMint,h=null===(e=this.toCoin)||void 0===e?void 0:e.mintAddress;l===w.a.mintAddress&&(l=w.e.mintAddress),m===w.a.mintAddress&&(m=w.e.mintAddress),h===w.a.mintAddress&&(h=w.e.mintAddress),Object(_.e)(this.$web3,this.$wallet,l,Object(C.a)(this.wallet.tokenAccounts,"".concat(l,".tokenAccountAddress")),m,Object(C.a)(this.wallet.tokenAccounts,"".concat(m,".tokenAccountAddress")),h,Object(C.a)(this.wallet.tokenAccounts,"".concat(h,".tokenAccountAddress")),this.needWrapSol()).then((function(t){r.$notify.info({key:c,message:"Transaction has been sent",description:function(e){return e("div",["Confirmation is in progress.  Check your transaction on ",e("a",{attrs:{href:"".concat(r.url.explorer,"/tx/").concat(t),target:"_blank"}},"here")])}});r.$accessor.transaction.sub({txid:t,description:"Create Tokens"})})).catch((function(t){r.$notify.error({key:c,message:"Create Tokens failed",description:t.message})})).finally((function(){r.swaping=!1,r.flush()}))}else{var f=Object.values(this.$accessor.liquidity.infos).find((function(p){return p.ammId===r.mainAmmId})),v=Object.values(this.$accessor.liquidity.infos).find((function(p){return p.ammId===r.extAmmId})),A=(this.endpoint===U?w.c.NNI.symbol:w.c.USDC.symbol,null===(n=this.fromCoin)||void 0===n?void 0:n.mintAddress),k=this.midTokenMint,x=null===(o=this.toCoin)||void 0===o?void 0:o.mintAddress;A===w.a.mintAddress&&(A=w.e.mintAddress),k===w.a.mintAddress&&(k=w.e.mintAddress),x===w.a.mintAddress&&(x=w.e.mintAddress),Object(_.i)(this.$web3,this.$wallet,f,v,this.fromCoin.mintAddress,this.midTokenMint,this.toCoin.mintAddress,Object(C.a)(this.wallet.tokenAccounts,"".concat(A,".tokenAccountAddress")),Object(C.a)(this.wallet.tokenAccounts,"".concat(k,".tokenAccountAddress")),Object(C.a)(this.wallet.tokenAccounts,"".concat(x,".tokenAccountAddress")),this.fromCoinAmount,this.midAmountWithSlippage,Object(C.a)(this.wallet.tokenAccounts,"".concat(w.e.mintAddress,".tokenAccountAddress"))).then((function(t){var e,n;r.$notify.info({key:c,message:"Transaction has been sent",description:function(e){return e("div",["Confirmation is in progress.  Check your transaction on ",e("a",{attrs:{href:"".concat(r.url.explorer,"/tx/").concat(t),target:"_blank"}},"here")])}});var o="Swap ".concat(r.fromCoinAmount," ").concat(null===(e=r.fromCoin)||void 0===e?void 0:e.symbol," to ").concat(r.toCoinAmount," ").concat(null===(n=r.toCoin)||void 0===n?void 0:n.symbol);r.$accessor.transaction.sub({txid:t,description:o}),r.flush()})).catch((function(t){r.$notify.error({key:c,message:"Swap failed",description:t.message})})).finally((function(){r.swaping=!1,r.flush()}))}else Object(_.d)(this.$web3,this.$wallet,this.market,this.asks,this.bids,this.fromCoin.mintAddress,this.toCoin.mintAddress,Object(C.a)(this.wallet.tokenAccounts,"".concat(this.fromCoin.mintAddress,".tokenAccountAddress")),Object(C.a)(this.wallet.tokenAccounts,"".concat(this.toCoin.mintAddress,".tokenAccountAddress")),this.fromCoinAmount,this.setting.slippage).then((function(t){var e,n;r.$notify.info({key:c,message:"Transaction has been sent",description:function(e){return e("div",["Confirmation is in progress.  Check your transaction on ",e("a",{attrs:{href:"".concat(r.url.explorer,"/tx/").concat(t),target:"_blank"}},"here")])}});var o="Swap ".concat(r.fromCoinAmount," ").concat(null===(e=r.fromCoin)||void 0===e?void 0:e.symbol," to ").concat(r.toCoinAmount," ").concat(null===(n=r.toCoin)||void 0===n?void 0:n.symbol);r.$accessor.transaction.sub({txid:t,description:o}),r.flush()})).catch((function(t){r.$notify.error({key:c,message:"Swap failed",description:t.message})})).finally((function(){r.swaping=!1,r.flush()}))},updateUrl:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark((function e(){var n,o,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("/swap/"===t.$route.path){e.next=2;break}return e.abrupt("return");case 2:if(n=t.$route.query,o=n.from,r=n.to,!t.fromCoin||!t.toCoin){e.next=9;break}if(t.fromCoin.mintAddress===o&&t.toCoin.mintAddress===r){e.next=7;break}return e.next=7,t.$router.push({path:"/swap/",query:{from:t.fromCoin.mintAddress,to:t.toCoin.mintAddress}});case 7:e.next=12;break;case 9:if(t.$route.query&&0===Object.keys(t.$route.query).length){e.next=12;break}return e.next=12,t.$router.push({path:"/swap/"});case 12:case"end":return e.stop()}}),e)})))()},closeAllModal:function(t){"coinSelectShow"!==t&&(this.coinSelectShow=!1),"ammIdSelectShow"!==t&&(this.ammIdSelectShow=!1),"userCheckUnofficialShow"!==t&&(this.userCheckUnofficialShow=!1),"ammIdOrMarketSearchShow"!==t&&(this.ammIdOrMarketSearchShow=!1)},fetchUnsettledByMarket:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark((function e(){var n,o,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.isFetchingUnsettled){e.next=2;break}return e.abrupt("return");case 2:if(t.$web3&&t.$wallet&&t.market){e.next=4;break}return e.abrupt("return");case 4:return t.isFetchingUnsettled=!0,e.prev=5,e.next=8,Object(_.a)(t.$web3,t.$wallet,t.market);case 8:if(r=e.sent){e.next=11;break}throw new Error("not enough data");case 11:t.baseSymbol=null!==(n=r.baseSymbol)&&void 0!==n?n:"",t.baseUnsettledAmount=r.baseUnsettledAmount,t.quoteSymbol=null!==(o=r.quoteSymbol)&&void 0!==o?o:"",t.quoteUnsettledAmount=r.quoteUnsettledAmount,t.unsettledOpenOrders=r.openOrders,t.flush(),e.next=21;break;case 19:e.prev=19,e.t0=e.catch(5);case 21:return e.prev=21,t.isFetchingUnsettled=!1,e.finish(21);case 24:case"end":return e.stop()}}),e,null,[[5,19,21,24]])})))()},settleFunds:function(t){var e=this,n=Object(I.a)().toString();this.$notify.info({key:n,message:"Making transaction...",description:"",duration:0});var o=this.market.baseMintAddress.toBase58(),r=this.market.quoteMintAddress.toBase58(),c=Object(C.a)(this.wallet.tokenAccounts,"".concat(o,".tokenAccountAddress")),d=Object(C.a)(this.wallet.tokenAccounts,"".concat(r,".tokenAccountAddress"));if("quote"===t){var l=[d,c];c=l[0],d=l[1];var m=[r,o];o=m[0],r=m[1]}"quote"===t?this.isSettlingQuote=!0:this.isSettlingBase=!0,Object(_.f)(this.$web3,this.market,this.unsettledOpenOrders,this.$wallet,o,r,c,d).then((function(t){e.$notify.info({key:n,message:"Transaction has been sent",description:function(n){return n("div",["Confirmation is in progress.  Check your transaction on ",n("a",{attrs:{href:"".concat(e.url.explorer,"/tx/").concat(t),target:"_blank"}},"here")])}});e.$accessor.transaction.sub({txid:t,description:"Settle"})})).then((function(){e.fetchUnsettledByMarket(),e.flush()})).catch((function(t){e.$notify.error({key:n,message:"Settle failed",description:t.message}),e.isSettlingQuote=!1,e.isSettlingBase=!1}))},reloadTimer:function(){var t=this;this.activeSpinning=!0,setTimeout((function(){t.activeSpinning=!1}),1e3),this.getOrderBooks(),this.flush(),this.$accessor.wallet.getTokenAccounts()}}}),N=(n(2070),n(2072),n(20)),component=Object(N.a)(B,(function(){var t=this,e=this,o=e.$createElement,r=e._self._c||o;return r("div",[r("div",{staticClass:"swap container"},[e.wsolBalance&&e.wsolBalance.balance.fixed()>0?r("div",{staticClass:"note-unwrapped-sol"},[r("div",{staticClass:"note-content"},[r("img",{staticClass:"note-icon",attrs:{src:n(948)}}),e._v(" "),r("label",{staticClass:"font-small weight-semi"},[e._v("\n          You have "+e._s(e.wsolBalance.balance.fixed())+" "),r("span",{staticStyle:{color:"#23adb4"}},[e._v("wrapped SOL")]),e._v(" in your wallet.\n          Click to unwrap to native SOL.\n        ")])]),e._v(" "),r("Button",{staticClass:"note-btn font-small weight-semi",on:{click:e.unwrap}},[e._v("Unwrap SOL")])],1):e._e(),e._v(" "),e.coinSelectShow?r("CoinSelect",{on:{onClose:function(){return e.coinSelectShow=!1},onSelect:e.onCoinSelect}}):e._e(),e._v(" "),r("AmmIdSelect",{attrs:{show:e.ammIdSelectShow,"liquidity-list":e.ammIdSelectList,"user-close":!0},on:{onClose:function(){return e.ammIdSelectShow=!1,e.ammIdSelectOld=!0},onSelect:e.onAmmIdSelect}}),e._v(" "),e.userCheckUnofficialShow?r("UnofficialPoolConfirmUser",{on:{onClose:function(){return e.userCheckUnofficialShow=!1},onSelect:e.onUserCheckUnofficialSelect}}):e._e(),e._v(" "),e.ammIdOrMarketSearchShow?r("InputAmmIdOrMarket",{on:{onClose:function(){return e.ammIdOrMarketSearchShow=!1},onInput:e.onAmmIdOrMarketInput}}):e._e(),e._v(" "),r("div",{staticClass:"card card-swap"},[r("div",{staticClass:"card-body"},[r("h4",{staticClass:"weight-bold page-title"},[e._v("Swap")]),e._v(" "),r("div",{staticClass:"information"},[r("div",{staticClass:"tvl-info"},[r("p",{staticClass:"font-large weight-semi"},[e._v("TVL : $"+e._s(e.TVL.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")))])]),e._v(" "),r("div",{staticClass:"action-btn-group"},[r("div",{staticClass:"reload-btn icon-cursor",class:e.activeSpinning?"active":"",on:{click:e.reloadTimer}},[r("img",{attrs:{src:n(933)}})]),e._v(" "),r("a",{staticClass:"create-btn icon-cursor",on:{click:function(){t.createdGlobalState?t.createPoolModalOpening=!0:t.createGlobalState()}}},[e.isSuperOwner?r("div",{staticClass:"create-plus-btn font-small weight-semi"},[e._v("\n                "+e._s(this.createdGlobalState?"+ Create pool":"+ Create Program")+"\n              ")]):e._e()])])]),e._v(" "),r("CoinInput",{attrs:{"balance-offset":e.fromCoin&&"SOL"===e.fromCoin.symbol?-.05:0,"mint-address":e.fromCoin?e.fromCoin.mintAddress:"","coin-name":e.fromCoin?e.fromCoin.symbol:"",balance:e.fromCoin?e.fromCoin.balance:null,"show-max":!0,"show-arrow":!0},on:{onInput:function(t){return e.fromCoinAmount=t},onFocus:function(){e.fixedFromCoin=!0},onMax:function(){e.fixedFromCoin=!0,e.fromCoinAmount=e.fromCoin&&e.fromCoin.balance?e.fromCoin.balance.fixed():"0"},onSelect:e.openFromCoinSelect},model:{value:e.fromCoinAmount,callback:function(t){e.fromCoinAmount=t},expression:"fromCoinAmount"}}),e._v(" "),r("div",{staticClass:"swap-vertical"},[r("div",[r("img",{staticClass:"icon-cursor m-auto",attrs:{src:n(975)},on:{click:e.changeCoinPosition}})])]),e._v(" "),r("CoinInput",{attrs:{"mint-address":e.toCoin?e.toCoin.mintAddress:"","coin-name":e.toCoin?e.toCoin.symbol:"",balance:e.toCoin?e.toCoin.balance:null,"show-max":!0,"show-arrow":!0,disabled:!0},on:{onInput:function(t){return e.toCoinAmount=t},onFocus:function(){e.fixedFromCoin=!1},onMax:function(){e.fixedFromCoin=!1,e.toCoinAmount=e.toCoin.balance.fixed()},onSelect:e.openToCoinSelect},model:{value:e.toCoinAmount,callback:function(t){e.toCoinAmount=t},expression:"toCoinAmount"}}),e._v(" "),r("div",{staticClass:"exchange-info"},[e.fromCoin&&e.toCoin&&e.isWrap&&e.fromCoinAmount?r("div",{staticClass:"font-small weight-semi price-base fcc-container"},[r("span",[e._v("\n              1 "+e._s(e.fromCoin.symbol)+" = 1\n              "+e._s(e.toCoin.symbol)+"\n            ")])]):e.fromCoin&&e.toCoin&&!e.isWrap&&e.fromCoinAmount||e.fromCoin&&e.toCoin&&e.marketAddress&&e.market&&e.asks&&e.bids&&e.fromCoinAmount?r("div",{staticClass:"font-small weight-semi price-base fcc-container"},[r("span",[e._v("\n              1 "+e._s(e.hasPriceSwapped?e.toCoin.symbol:e.fromCoin.symbol)+" =\n              "+e._s(e.hasPriceSwapped?(1/e.outToPirceValue).toFixed(6):e.outToPirceValue)+"\n              "+e._s(e.hasPriceSwapped?e.fromCoin.symbol:e.toCoin.symbol)+"\n              "),r("img",{staticClass:"swap-icon",attrs:{src:n(493)},on:{click:function(){return e.hasPriceSwapped=!e.hasPriceSwapped}}})])]):e._e()]),e._v(" "),e.wallet.connected?r("div",[r("div",{staticClass:"swap-actions fcsb-container"},[r("div",{staticClass:"swap-status font-medium weight-semi"},[e.priceImpact<=2?r("div",{staticClass:"price-status"},[r("img",{staticClass:"status-icon",attrs:{src:n(244)}}),e._v(" "),r("label",{staticClass:"font-medium weight-semi price-impact-green"},[e._v("Fair Price")])]):e.priceImpact>2&&e.priceImpact<=5?r("div",{staticClass:"price-status"},[r("img",{staticClass:"status-icon",attrs:{src:n(948)}}),e._v(" "),r("label",{staticClass:"font-medium weight-semi price-impact-orange"},[e._v("Price impact Warning")])]):e.priceImpact>5?r("div",{staticClass:"price-status"},[r("img",{staticClass:"status-icon",attrs:{src:n(974)}}),e._v(" "),r("label",{staticClass:"font-medium weight-semi price-impact-red"},[e._v("Price impact Warning")])]):e._e()]),e._v(" "),r("div",{staticClass:"action-group"},[r("div",{staticClass:"action-btn-container fcc-container icon-cursor"},[r("div",{on:{click:function(){t.showSlippage=!t.showSlippage}}},[r("img",{staticClass:"setting-icon",attrs:{src:n(972)}})]),e._v(" "),e.showSlippage?r("div",{staticClass:"slippage-container"},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.setting.slippage,expression:"setting.slippage"}],staticClass:"slippage-input",attrs:{id:"number",type:"number",min:"1",max:"100"},domProps:{value:e.setting.slippage},on:{keypress:e.validateNumber,input:function(t){t.target.composing||e.$set(e.setting,"slippage",t.target.value)}}})]):e._e()]),e._v(" "),r("div",{staticClass:"action-btn-container fcc-container icon-cursor",class:e.activeSpinning?"loading":"",on:{click:e.reloadTimer}},[r("img",{staticClass:"load-icon",attrs:{src:n(933)}})])])]),e._v(" "),r("div",{staticClass:"price-info"},[r("div",{staticClass:"info-box"},[r("span",{staticClass:"name"},[r("label",{staticClass:"font-small weight-bold"},[e._v("Pathway")]),e._v(" "),r("Tooltip",{attrs:{placement:"bottomLeft"}},[r("template",{slot:"title"},[e._v("\n                    This trade routes though the following tokens to give you the best price\n                  ")]),e._v(" "),r("img",{staticClass:"tooltip-icon icon-cursor",attrs:{src:n(146)}})],2)],1),e._v(" "),e.fromCoin&&e.toCoin?r("span",{staticClass:"pathway"},[r("div",{staticClass:"coin-box-container"},[r("div",{staticClass:"coin-box"},[r("CoinIcon",{attrs:{"mint-address":e.fromCoin.mintAddress}}),e._v(" "),r("span",{staticClass:"font-small weight-semi"},[e._v(e._s(e.fromCoin.symbol))])],1)]),e._v(" "),r("img",{staticClass:"fst",attrs:{src:n(949)}}),e._v(" "),e.midTokenSymbol?r("div",{staticClass:"coin-box-container"},[r("div",{staticClass:"coin-box"},[r("CoinIcon",{attrs:{"mint-address":e.midTokenMint}}),e._v(" "),r("span",{staticClass:"font-small weight-semi"},[e._v(e._s(e.midTokenSymbol))])],1)]):e._e(),e._v(" "),e.midTokenSymbol?r("img",{staticClass:"fst",attrs:{src:n(949)}}):e._e(),e._v(" "),r("div",{staticClass:"coin-box-container"},[r("div",{staticClass:"coin-box"},[r("CoinIcon",{attrs:{"mint-address":e.toCoin.mintAddress}}),e._v(" "),r("span",{staticClass:"font-small weight-semi"},[e._v(e._s(e.toCoin.symbol))])],1)])]):e._e()]),e._v(" "),e.priceImpact?r("div",{staticClass:"info-box"},[r("span",{staticClass:"name"},[r("label",{staticClass:"font-small weight-bold"},[e._v(" Price Impact ")]),e._v(" "),r("Tooltip",{attrs:{placement:"bottomLeft"}},[r("template",{slot:"title"},[e._v("\n                    The difference between the market price and estimated price due to trade size\n                  ")]),e._v(" "),r("img",{staticClass:"tooltip-icon icon-cursor",attrs:{src:n(146)}})],2)],1),e._v(" "),r("span",{staticClass:"value"},[r("label",{staticClass:"font-small weight-bold"},[e._v(" "+e._s(e.priceImpact.toFixed(2))+"% ")])])]):e._e(),e._v(" "),e.fromCoin&&e.toCoin&&e.fromCoinAmount&&e.toCoinWithSlippage?r("div",{staticClass:"info-box"},[r("span",{staticClass:"name"},[r("label",{staticClass:"font-small weight-bold"},[e._v("Minimum Received")]),e._v(" "),r("Tooltip",{attrs:{placement:"bottomLeft"}},[r("template",{slot:"title"},[e._v(" The least amount of tokens you will receive for this trade ")]),e._v(" "),r("img",{staticClass:"tooltip-icon icon-cursor",attrs:{src:n(146)}})],2)],1),e._v(" "),r("span",{staticClass:"value"},[r("label",{staticClass:"font-small weight-bold"},[e._v(" "+e._s(e.toCoinWithSlippage)+" "+e._s(e.toCoin.symbol)+" ")])])]):e._e()])]):e._e(),e._v(" "),e.wallet.connected?e.officialPool||!e.officialPool&&e.userCheckUnofficial?r("div",{staticClass:"btn-container"},[r("Button",{staticClass:"btn-transparent font-large weight-bold",class:(e.priceImpact>5||e.priceImpact,""),attrs:{disabled:!e.fromCoin||!e.fromCoinAmount||!e.toCoin||!this.mainAmmId||!e.marketAddress&&!e.lpMintAddress&&!e.isWrap&&!e.best_dex_type||!e.initialized||e.loading||e.checkFromCoinAmount()||e.get(e.liquidity.infos,e.lpMintAddress+".status")&&1!==e.get(e.liquidity.infos,e.lpMintAddress+".status")||e.swaping,loading:e.swaping},on:{click:e.placeOrder}},[e.fromCoin&&e.toCoin?(e.marketAddress||e.lpMintAddress||e.isWrap||e.best_dex_type)&&e.initialized?e.fromCoinAmount?e.loading?[e._v(" Updating price information ")]:e.checkFromCoinAmount()?[e._v(" Insufficient "+e._s(e.fromCoin.symbol)+" balance ")]:e.get(e.liquidity.infos,e.lpMintAddress+".status")&&1!==e.get(e.liquidity.infos,e.lpMintAddress+".status")?[e._v("\n              Pool coming soon\n            ")]:"multi"===e.best_dex_type&&(e.needWrapSol()||e.needCreateTokens())?[e._v("Prepare two-step swap")]:[e._v(e._s(e.isWrap?"Unwrap":(e.priceImpact,"Exchange")))]:[e._v(" Enter an amount ")]:[e._v("\n              Insufficient liquidity for this trade\n            ")]:[e._v(" Select")]],2)],1):r("div",{staticClass:"btn-container"},[r("Button",{staticClass:"btn-transparent font-large weight-bold",attrs:{ghost:""},on:{click:function(){e.setTimeout((function(){e.userCheckUnofficialShow=!0}),1)}}},[e._v("\n            Confirm Risk Warning\n          ")])],1):r("div",{staticClass:"btn-container"},[r("Button",{staticClass:"btn-transparent font-large weight-bold",attrs:{ghost:""},on:{click:e.$accessor.wallet.openModal}},[e._v("\n            Connect wallet\n          ")])],1),e._v(" "),e._m(0)],1)]),e._v(" "),r("div",{staticClass:"card-chart"},[r("div",{staticClass:"card card-chart-container"},[r("SwapTokenInfo")],1)])],1)])}),[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("b",{staticStyle:{color:"#d2cbcb"}},[n("i",[t._v("If you have a new pair suggestion please contact us on telegram.")])])}],!1,null,"b2e65e9c",null);e.default=component.exports;installComponents(component,{CoinSelect:n(285).default,AmmIdSelect:n(284).default,UnofficialPoolConfirmUser:n(524).default,InputAmmIdOrMarket:n(517).default,CoinInput:n(245).default,CoinIcon:n(134).default,SwapTokenInfo:n(522).default})}}]);