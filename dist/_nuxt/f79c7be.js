(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{1937:function(t,e,n){var content=n(2063);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(24).default)("1b971579",content,!0,{sourceMap:!1})},1938:function(t,e,n){var content=n(2065);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(24).default)("471edc35",content,!0,{sourceMap:!1})},1939:function(t,e,n){var content=n(2067);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(24).default)("c38665d8",content,!0,{sourceMap:!1})},1940:function(t,e,n){var content=n(2069);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(24).default)("154a841a",content,!0,{sourceMap:!1})},2062:function(t,e,n){"use strict";n(1937)},2063:function(t,e,n){var r=n(23),o=n(488),c=n(966),d=r(!1),l=o(c);d.push([t.i,".staking .btn-container[data-v-7e3ecb5b]{box-shadow:0 4px 4px rgba(0,0,0,.25);border-radius:8px;padding:3px;width:85px;height:auto}.staking .btn-container.btn-large[data-v-7e3ecb5b]{width:100%;height:50px}.staking .btn-transparent[data-v-7e3ecb5b]{background:transparent;padding:4.5px 0;border-radius:8px;border:none;width:100%;height:auto}.staking .btn-primary[data-v-7e3ecb5b]{background:rgba(43,51,103,0);padding:4.5px 0;border-radius:48px;border:none;width:100%;height:auto;color:#fff}.staking .btn-primary[data-v-7e3ecb5b]:disabled{color:hsla(0,0%,100%,.4)}.staking.container[data-v-7e3ecb5b]{margin-top:38px}@media (max-width:767px){.staking.container[data-v-7e3ecb5b]{margin-top:28px}}.staking.container .card .card-body[data-v-7e3ecb5b]{padding:0}@media (max-width:767px){.staking.container .card .card-body .staking-head[data-v-7e3ecb5b]{display:block!important}}.staking.container .card .card-body .staking-head .title[data-v-7e3ecb5b]{text-align:center;position:relative;float:left}@media (max-width:767px){.staking.container .card .card-body .staking-head .title[data-v-7e3ecb5b]{margin-bottom:18px!important}}.staking.container .card .card-body .staking-head .information[data-v-7e3ecb5b]{display:flex;align-items:center;justify-content:space-between}@media (max-width:767px){.staking.container .card .card-body .staking-head .information[data-v-7e3ecb5b]{width:100%}}.staking.container .card .card-body .staking-head .information .tvl-info[data-v-7e3ecb5b]{margin-right:18px}.staking.container .card .card-body .staking-head .information .action-btn-group[data-v-7e3ecb5b]{display:flex;align-items:center}.staking.container .card .card-body .staking-head .information .action-btn-group .reload-btn[data-v-7e3ecb5b]{background:linear-gradient(rgba(75,85,231,.65098),rgba(182,97,150,.74902));border-radius:8px;padding:6px;margin-right:18px;display:flex;align-items:center;justify-content:center}@media (max-width:1024px){.staking.container .card .card-body .staking-head .information .action-btn-group .reload-btn[data-v-7e3ecb5b]{margin-left:4px}}.staking.container .card .card-body .staking-head .information .action-btn-group .reload-btn .reload-icon[data-v-7e3ecb5b]{width:18px;height:18px}.staking.container .card .card-body .staking-head .information .action-btn-group .reload-btn.active .reload-icon[data-v-7e3ecb5b]{transform:rotate(1turn);transition:all 1s ease-in-out}.staking.container .card .card-body .staking-content[data-v-7e3ecb5b]{max-width:970px;width:100%;margin:20px auto!important;border-radius:18px;padding:30px 0;align-items:center!important}@media (max-width:767px){.staking.container .card .card-body .staking-content[data-v-7e3ecb5b]{padding:0;display:inline-block!important;max-width:unset}}.staking.container .card .card-body .staking-content .staking-tiers[data-v-7e3ecb5b]{max-width:450px;height:450px;margin:0 28px 0 0;width:100%}@media (max-width:768px){.staking.container .card .card-body .staking-content .staking-tiers[data-v-7e3ecb5b]{max-width:450px;margin:0 auto 28px}}@media (max-width:435px){.staking.container .card .card-body .staking-content .staking-tiers[data-v-7e3ecb5b]{max-width:290px;height:350px}}.staking.container .card .card-body .staking-content .staking-tiers .staking-tier-item[data-v-7e3ecb5b]{padding:0 4px}.staking.container .card .card-body .staking-content .staking-tiers .staking-tier-item .staking-tier-preview[data-v-7e3ecb5b]{height:277px;margin-bottom:28px}.staking.container .card .card-body .staking-content .staking-tiers .staking-tier-item .btn-container[data-v-7e3ecb5b]{width:120px}.staking.container .card .card-body .staking-content .staking-tiers .staking-tier-item .btn-container .btn-primary[data-v-7e3ecb5b]{background:#2e1664}.staking.container .card .card-body .staking-content .staking-body[data-v-7e3ecb5b]{width:calc(100% - 450px);padding:25px;position:relative;z-index:0;border-radius:18px;box-shadow:inset 0 0 28px rgba(45,11,80,.88235);background:rgba(129,116,245,.5)}@media (max-width:768px){.staking.container .card .card-body .staking-content .staking-body[data-v-7e3ecb5b]{width:calc(100% - 348px)}}@media (max-width:767px){.staking.container .card .card-body .staking-content .staking-body[data-v-7e3ecb5b]{width:100%;padding:15px}}.staking.container .card .card-body .staking-content .staking-body .staking-progress[data-v-7e3ecb5b]{margin-top:28px}.staking.container .card .card-body .staking-content .staking-body .staking-progress .staking-progress-label[data-v-7e3ecb5b]{margin-bottom:4px}.staking.container .card .card-body .staking-content .staking-body .staking-progress .staking-progress-info-container[data-v-7e3ecb5b]{position:relative;padding:0 4px}.staking.container .card .card-body .staking-content .staking-body .staking-progress .staking-progress-info-container .staking-progress-end[data-v-7e3ecb5b]{width:2px;height:14px;background:#6639e4;box-shadow:0 2px 3px rgba(0,0,0,.55);margin:-20px 0 4px}.staking.container .card .card-body .staking-content .staking-body .staking-infos-group[data-v-7e3ecb5b]{margin-top:28px}.staking.container .card .card-body .staking-content .staking-body .staking-infos-group .staking-info[data-v-7e3ecb5b]{margin-bottom:8px}.staking.container .card .card-body .staking-content .staking-body .staking-infos-group .staking-info[data-v-7e3ecb5b]:last-child{margin-bottom:0}.staking.container .card .card-body .staking-content .staking-body .staking-infos-group .staking-info .label[data-v-7e3ecb5b]{color:#cdd2db;display:flex;align-items:center}.staking.container .card .card-body .staking-content .staking-body .staking-infos-group .staking-info .label .tooltip-icon[data-v-7e3ecb5b]{width:12px;height:12px;margin-left:4px}.staking.container .card .card-body .staking-content .staking-body .staking-infos-group .staking-info .value[data-v-7e3ecb5b]{display:flex;align-items:center;text-align:right;color:#fff}.staking.container .card .card-body .staking-content .staking-body .staking-infos-group .staking-info .value .calc-icon[data-v-7e3ecb5b]{margin-left:8px}.staking.container .card .card-body .staking-content .staking-body .staking-actions-group[data-v-7e3ecb5b]{margin:18px 0}.staking.container .card .card-body .staking-content .staking-body .staking-actions-group .staking-action-item[data-v-7e3ecb5b]{background:rgba(226,227,236,.1);border-radius:18px;padding:16px;margin-bottom:18px}.staking.container .card .card-body .staking-content .staking-body .staking-actions-group .staking-action-item[data-v-7e3ecb5b]:last-child{margin-bottom:0}.staking.container .card .card-body .staking-content .staking-body .staking-actions-group .staking-action-item .label[data-v-7e3ecb5b]{color:#cdd2db}.staking.container .card .card-body .staking-content .staking-body .staking-actions-group .staking-action-item .value[data-v-7e3ecb5b]{font-weight:700;font-size:20px;line-height:25px;color:#fff;display:block}.staking.container .card .card-body .staking-content .staking-body .staking-actions-group .staking-action-item .stake-btn-group .btn-container[data-v-7e3ecb5b]{margin-right:8px}.staking.container .card .card-body .staking-content .staking-body .staking-actions-group .staking-action-item .stake-btn-group .btn-container[data-v-7e3ecb5b]:last-child{margin-right:0}.staking.container .card .card-body .staking-content .staking-body .staking-footer .lock-tokens .label[data-v-7e3ecb5b]{color:#cdd2db}.staking.container .card .card-body .staking-content .staking-body .staking-footer .get-crp[data-v-7e3ecb5b]{margin-top:18px}.staking.container .card .card-body .staking-content .staking-body .staking-footer .get-crp .get-nni[data-v-7e3ecb5b]{color:#fff}.staking.container .card .card-body .staking-content .staking-body .staking-footer .get-crp .union-icon[data-v-7e3ecb5b]{margin-left:8px}.staking.container .card .card-body .staking-tiers-details[data-v-7e3ecb5b]{max-width:870px;min-width:335px;width:100%;margin:30px auto!important;background:#40428c;border:3px solid #3e0775;padding:18px;border-radius:18px}.staking.container .card .card-body .staking-tiers-details .staking-tiers-features[data-v-7e3ecb5b]{margin:18px 0}.staking.container .card .card-body .staking-tiers-details .staking-tiers-features .staking-tier-container[data-v-7e3ecb5b]{margin:0!important}@media (max-width:767px){.staking.container .card .card-body .staking-tiers-details .staking-tiers-features .staking-tier-container[data-v-7e3ecb5b]{display:inline-block!important}}.staking.container .card .card-body .staking-tiers-details .staking-tiers-features .staking-tier-container .staking-tier-tab[data-v-7e3ecb5b]{padding-left:0!important}@media (max-width:767px){.staking.container .card .card-body .staking-tiers-details .staking-tiers-features .staking-tier-container .staking-tier-tab[data-v-7e3ecb5b]{padding-right:0!important;width:100%}}.staking.container .card .card-body .staking-tiers-details .staking-tiers-features .staking-tier-container .staking-tier-preview[data-v-7e3ecb5b]{padding-right:0!important}@media (max-width:767px){.staking.container .card .card-body .staking-tiers-details .staking-tiers-features .staking-tier-container .staking-tier-preview[data-v-7e3ecb5b]{margin-top:28px;width:100%;padding-left:0!important}}.staking.container .card .card-body .staking-tiers-details .staking-tiers-features .staking-tier-container .staking-tier-preview .staking-tier-item-box[data-v-7e3ecb5b]{background:url("+l+");background-size:cover;border-radius:18px;border:5px solid #0b2e6a;width:100%;height:300px}",""]),t.exports=d},2064:function(t,e,n){"use strict";n(1938)},2065:function(t,e,n){var r=n(23)(!1);r.push([t.i,".staking .ant-carousel .custom-slick-arrow{top:50%;width:25px;height:25px;font-size:25px;color:#fff;background-color:rgba(31,45,61,.11);opacity:.3}.staking .ant-carousel .custom-slick-arrow.prev-arrow{left:10px;z-index:1}.staking .ant-carousel .custom-slick-arrow.next-arrow{right:10px}.staking .ant-carousel .custom-slick-arrow:before{display:none}.staking .ant-carousel .custom-slick-arrow:hover{opacity:.5}.staking .ant-carousel .slick-dots{position:relative;margin-top:-40px;bottom:0;height:auto}.staking .ant-carousel .slick-dots li{margin-left:0;margin-right:18px;width:24px;height:24px;padding:3px;background:transparent;border-radius:50%}.staking .ant-carousel .slick-dots li:last-child{margin-right:0}.staking .ant-carousel .slick-dots li button{width:18px!important;height:18px!important;padding:4px;border:4px solid #2e1664;border-radius:50%;background:#82d4dc;opacity:.4}.staking .ant-carousel .slick-dots li.slick-active{background:hsla(0,0%,100%,0)}.staking .ant-carousel .slick-dots li.slick-active button{background:#fff;opacity:1}.staking .ant-progress{width:100%}.staking .ant-tabs-bar{border-bottom:0;margin:0 0 28px}.staking .ant-tabs-bar .ant-tabs-nav .ant-tabs-tab{margin:0 18px 0 0;font-weight:600;font-size:20px;line-height:30px;color:#eae8f1}.staking .ant-tabs-bar .ant-tabs-nav .ant-tabs-tab-active{color:#6639e4}.staking .ant-tabs-bar .ant-tabs-nav .ant-tabs-ink-bar{position:relative;margin-top:8px;width:50px!important;height:4px;background:#82d4dc;border-radius:10px}",""]),t.exports=r},2066:function(t,e,n){"use strict";n(1939)},2067:function(t,e,n){var r=n(23)(!1);r.push([t.i,".Nomad-container{height:1px;display:flex!important;align-items:center;justify-content:space-between}",""]),t.exports=r},2068:function(t,e,n){"use strict";n(1940)},2069:function(t,e,n){var r=n(23),o=n(488),c=n(962),d=n(964),l=n(963),k=n(961),m=r(!1),f=o(c),v=o(d),h=o(l),x=o(k);m.push([t.i,".staking-tiers-item-1{background:url("+f+")}.staking-tiers-item-2{background:url("+v+")}.staking-tiers-item-3{background:url("+h+")}.staking-tiers-item-4{background:url("+x+')}.staking-tiers-item{height:450px;margin:auto;width:100%;background-size:cover;padding:24px!important;position:relative;z-index:0;border-radius:18px}@media (max-width:767px){.staking-tiers-item{height:350px}}.staking-tiers-item:after{content:""}.staking-tiers-item:before{content:"";position:absolute;z-index:-1;top:0;left:0;right:0;bottom:0;background:linear-gradient(315deg,#bd21ac,#280684);padding:2px;border-radius:18px;-webkit-mask:linear-gradient(#fff,#fff 0) content-box,linear-gradient(#fff,#fff 0);-webkit-mask:linear-gradient(#fff 0 0) content-box,linear-gradient(#fff 0 0);-webkit-mask-composite:xor;mask-composite:exclude}@media (max-width:768px){.staking-tiers-item{max-width:320px}}@media (max-width:435px){.staking-tiers-item{max-width:290px}}.staking-tiers-item .staking-tier-item{padding:0 4px}.staking-tiers-item .staking-tier-item .staking-tier-preview{height:277px;margin-bottom:28px}.staking-tiers-item .staking-tier-item .btn-container{width:120px}.staking-tiers-item .staking-tier-item .btn-container .btn-primary{background:#2e1664}.staking-tier-desc{position:absolute;bottom:45px;width:100%;text-align:center;left:0}.slideWrapper{display:flex;justify-content:center}.slide{transform:scaleY(.8);opacity:.8;transition:.5s ease-in-out}.activeSlide{transition:transform .5s;position:relative;z-index:1000;width:200%!important;transform:translateX(-25%);height:220%!important}',""]),t.exports=m},2092:function(t,e,n){"use strict";n.r(e);n(62),n(50),n(69),n(56),n(39),n(85);var r=n(7),o=n(38),c=(n(240),n(42)),d=n.n(c),l=(n(2035),n(2052)),k=n.n(l),progress=(n(500),n(435)),m=n.n(progress),f=(n(278),n(207)),v=n.n(f),h=(n(96),n(43)),x=n.n(h),w=(n(1931),n(1932)),y=n.n(w),T=(n(45),n(35),n(95),n(161),n(99),n(191),n(135),n(147),n(110),n(347),n(13)),C=n(65),_=n(1895),S=n(5),N=n(167),O=n(16),j=n(98),P=n(9),R=n.n(P),$=n(73);function A(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}j.a,y.a.TabPane;T.default.prototype.moment=R.a;var M=T.default.extend({components:{Button:x.a,Tooltip:v.a,Progress:m.a,Carousel:k.a,Icon:d.a},data:function(){return{isStateCreated:!1,isPoolCreated:!1,isExtraRewardCreated:!1,isOwner:!1,baseModalShow:!1,stakeModalShow:!1,estimatedAPY:0,lockDuration:0,crpbalance:0,endDateOfLock:0,running:0,totalStaked:"0",userStaked:0,userStakedUnformated:0,pendingReward:"0",pendingRewardDynamic:0,counterdyn:null,totalStakedPrice:"0",TVL:0,timer:null,autoRefreshTime:60,countdown:0,activeSpinning:!1,endOfLock:"",canUnstake:!1,pctToNexttiers:0,userTier:0,currentTiers:0,nextTiers:1,selectedTier:0,activeTab:"1",tiers:[{name:"The Gypsy",price:200},{name:"The Wanderer",price:2e3},{name:"The Traveler",price:1e4},{name:"The Nomad",price:2e4}]}},head:{title:"NeoNomad Finance - Staking"},computed:function(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?A(Object(source),!0).forEach((function(e){Object(o.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):A(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}({},Object(C.e)(["wallet","swap","liquidity","url","setting","price","token"])),watch:{"wallet.tokenAccounts":{handler:function(t){var e;(null===(e=this.$wallet)||void 0===e?void 0:e.connected)&&(this.getUserState(),this.getGlobalState())},deep:!0},"wallet.connected":{handler:function(t){var e=this;this.getUserState(),t&&Object($.k)().then((function(t){var n,r;t&&(e.isOwner=t.authority.toBase58()==(null===(r=null===(n=e.$wallet)||void 0===n?void 0:n.publicKey)||void 0===r?void 0:r.toBase58()))}))},deep:!0},"token.initialized":{handler:function(t){this.getGlobalState(),this.getUserState()},deep:!0}},mounted:function(){this.getTvl(),Object($.n)(this.$web3,this.$wallet),this.getGlobalState(),this.getUserState(),this.currentTiers>1?(this.setTierCarousel(this.currentTiers-1),this.selectedTier=this.currentTiers,this.activeTab=this.currentTiers.toString()):(this.setTierCarousel(0),this.selectedTier=1,this.activeTab="1"),2===this.currentTiers&&(this.pctToNexttiers=100),this.setTimer()},methods:{onCarouselChange:function(a,b){console.log(a,b)},getTvl:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){var n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=(new Date).getTime(),!window.localStorage.TVL_last_updated){e.next=6;break}if(r=parseInt(window.localStorage.TVL_last_updated),!(n-r<=6e5)){e.next=6;break}return t.TVL=window.localStorage.TVL,e.abrupt("return");case 6:[],0,t.TVL=Math.round(0),window.localStorage.TVL_last_updated=(new Date).getTime(),window.localStorage.TVL=t.TVL;case 11:case"end":return e.stop()}}),e)})))()},closeModal:function(){this.stakeModalShow=!1,this.getGlobalState(),this.getUserState()},createGlobalState:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:100,n=S.c.NNI.mintAddress,Object($.d)(t.$web3,t.$wallet,100,n).then((function(e){t.getGlobalState()}));case 3:case"end":return e.stop()}}),e)})))()},createExtraRewardPool:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Object($.c)(t.$web3,t.$wallet).then((function(e){t.getUserState()}));case 1:case"end":return e.stop()}}),e)})))()},createStakingPool:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=S.c.NNI.mintAddress,Object($.e)(t.$web3,t.$wallet,n,[]).then((function(e){t.getGlobalState()}));case 2:case"end":return e.stop()}}),e)})))()},getGlobalState:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){var n,r,o,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.$accessor.token.initialized){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,Object($.i)();case 4:return n=e.sent,console.log("pools",n),n.length>0?t.isPoolCreated=!0:t.isPoolCreated=!1,r=n[0],e.next=10,Object($.k)();case 10:o=e.sent,t.isStateCreated=!!o,c=new O.a(r.account.amount,S.c.NNI.decimals),t.price.prices.NNI?t.totalStakedPrice="$"+(Math.round(parseFloat(c.fixed())*t.price.prices.NNI*1e3)/1e3).toString().replace(/\B(?=(\d{3})+(?!\d))/g,","):t.totalStakedPrice="$ "+parseFloat(c.fixed()),t.totalStaked="NNI "+(Math.round(1e3*parseFloat(c.fixed()))/1e3).toString().replace(/\B(?=(\d{3})+(?!\d))/g,","),365*Number(new O.a(o.tokenPerSecond,S.c.NNI.decimals).fixed())*24*3600/Number(new O.a(r.account.amount,S.c.NNI.decimals).fixed()),console.log("farm_state.tokenPerSecond",o.tokenPerSecond.toNumber()),console.log("current_pool.account.amount",r.account.amount.toNumber()),t.estimatedAPY=365*Number(new O.a(o.tokenPerSecond,S.c.NNI.decimals).fixed())*24*3600/Number(new O.a(r.account.amount,S.c.NNI.decimals).fixed()),console.log("this.estimatedAPY",t.estimatedAPY),t.estimatedAPY=Number(100*(Math.pow(1+t.estimatedAPY/365,365)-1)),console.log("this.estimatedAPY",t.estimatedAPY),t.estimatedAPY===1/0&&(t.estimatedAPY=100);case 23:case"end":return e.stop()}}),e)})))()},getUserState:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){var n,r,o,c,d,l,k,m,f,v,h,x;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.$accessor.token.initialized&&(null===(n=t.$wallet)||void 0===n?void 0:n.connected)){e.next=2;break}return e.abrupt("return");case 2:return(r=t.wallet.tokenAccounts[S.c.NNI.mintAddress])&&(t.crpbalance=1*r.balance.fixed()),e.next=6,Object($.k)();case 6:return o=e.sent,e.next=9,Object($.j)();case 9:return c=e.sent,t.isExtraRewardCreated=!!c,e.next=13,Object($.i)();case 13:return d=e.sent,l=d[0],e.next=17,Object($.l)(t.$wallet,l.publicKey);case 17:if(k=e.sent,console.log("userAccount",k),k){e.next=21;break}return e.abrupt("return");case 21:m=k.lastStakeTime.toNumber()+k.lockDuration.toNumber(),f=R()(new Date(1e3*m)).format("MM/DD/YYYY HH:mm:SS"),t.endDateOfLock=m,t.endOfLock=f,t.canUnstake=!(1e3*(k.lastStakeTime.toNumber()+k.lockDuration.toNumber())>(new Date).getTime()),t.userStaked=Math.ceil(1e3*parseFloat(new O.a(k.amount,S.c.NNI.decimals).fixed()))/1e3,t.userStakedUnformated=Number(new O.a(k.amount,S.c.NNI.decimals).fixed()),v=Object($.f)(o,c,l.account,k),console.log("rewardAmount",v),h=Object($.g)(o,c,l.account,k),x=Object($.b)(t.userStaked,k.lockDuration.toNumber()),t.$accessor.wallet.setStakingTiers(x),t.pendingReward=new O.a(v,S.c.NNI.decimals).fixed(),t.pendingRewardDynamic=new O.a(v,S.c.NNI.decimals).fixed(),1!=t.running&&t.dynamicRebase(h,t.pendingRewardDynamic),t.running=1,t.currentTiers=x.tiers,t.nextTiers=x.tiers+1,t.nextTiers==$.a.length?(t.nextTiers--,t.currentTiers--,t.pctToNexttiers=100,t.userTier=$.a[t.nextTiers]):(t.userTier=x.xCRP,t.pctToNexttiers=(x.xCRP-$.a[t.currentTiers])/($.a[t.nextTiers]-$.a[t.currentTiers])*100),5===t.currentTiers&&(t.pctToNexttiers=100),t.currentTiers>1?(t.setTierCarousel(t.currentTiers-1),t.selectedTier=t.currentTiers,t.activeTab=t.currentTiers.toString()):(t.setTierCarousel(0),t.selectedTier=1,t.activeTab="1");case 42:case"end":return e.stop()}}),e)})))()},dynamicRebase:function(t,e){return!1},onBaseDetailSelect:function(t,e){this.baseModalShow=!1,this.estimatedAPY=e,this.lockDuration=t},unstakeToken:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){var n,r,o,c,d,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object($.i)();case 2:n=e.sent,r=n[0],o=r.publicKey.toString(),c=r.account.mint.toString(),d=r.account.vault.toString(),l=Object(N.a)().toString(),t.$notify.info({key:l,message:"Making transaction...",description:"",duration:0}),Object($.p)(t.$web3,t.$wallet,o,c,d,Object(_.a)(t.wallet.tokenAccounts,"".concat(c,".tokenAccountAddress")),t.userStakedUnformated*Math.pow(10,S.c.NNI.decimals)).then((function(e){t.$notify.info({key:l,message:"Transaction has been sent",description:function(n){return n("div",["Confirmation is in progress.  Check your transaction on ",n("a",{attrs:{href:"".concat(t.url.explorer,"/tx/").concat(e),target:"_blank"}},"here")])}});t.$accessor.transaction.sub({txid:e,description:"Unstaking NNI"})})).catch((function(e){t.$notify.error({key:l,message:"Unstaking failed",description:e.message})})).finally((function(){t.$accessor.wallet.getTokenAccounts()}));case 10:case"end":return e.stop()}}),e)})))()},getUserAccount:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){var n,r,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object($.i)();case 2:return n=e.sent,r=n[0],e.next=6,Object($.l)(t.$wallet,r.publicKey);case 6:o=e.sent,console.log(o);case 8:case"end":return e.stop()}}),e)})))()},harvestReward:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){var n,r,o,c,d,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object($.k)();case 2:return n=e.sent,e.next=5,Object($.i)();case 5:r=e.sent,o=r[0],c=o.publicKey.toString(),d=o.account.mint.toString(),o.account.vault.toString(),l=Object(N.a)().toString(),t.$notify.info({key:l,message:"Making transaction...",description:"",duration:0}),Object($.m)(t.$web3,t.$wallet,c,d,Object(_.a)(t.wallet.tokenAccounts,"".concat(d,".tokenAccountAddress")),n.rewardVault).then((function(e){t.$notify.info({key:l,message:"Transaction has been sent",description:function(n){return n("div",["Confirmation is in progress.  Check your transaction on ",n("a",{attrs:{href:"".concat(t.url.explorer,"/tx/").concat(e),target:"_blank"}},"here")])}});t.$accessor.transaction.sub({txid:e,description:"Harvesting NNI"})})).catch((function(e){t.$notify.error({key:l,message:"Harvest failed",description:e.message})})).finally((function(){t.$accessor.wallet.getTokenAccounts()}));case 13:case"end":return e.stop()}}),e)})))()},setTimer:function(){var t=this;this.timer=setInterval(Object(r.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t.countdown<t.autoRefreshTime)){e.next=5;break}if(t.countdown+=1,t.countdown!==t.autoRefreshTime){e.next=5;break}return e.next=5,t.flush();case 5:case"end":return e.stop()}}),e)}))),1e3)},flush:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.countdown=0,t.getGlobalState(),(null===(n=t.$wallet)||void 0===n?void 0:n.connected)&&t.getUserState();case 3:case"end":return e.stop()}}),e)})))()},reloadTimer:function(){var t=this;this.activeSpinning=!0,setTimeout((function(){t.activeSpinning=!1}),1e3),this.flush(),this.$accessor.wallet.getTokenAccounts()},getCurrentTier:function(t,e){this.selectedTier=e+1},setTierCarousel:function(t){this.$refs.tierCarousel.goTo(t)},setTierTabs:function(){this.activeTab=this.selectedTier.toString()}}}),I=(n(2062),n(2064),n(2066),n(2068),n(20)),component=Object(I.a)(M,(function(){var t=this,e=this,r=e.$createElement,o=e._self._c||r;return o("div",{staticClass:"staking container"},[o("BaseDetailModal",{attrs:{show:e.baseModalShow,estimatedapy:e.estimatedAPY},on:{onCancel:function(){return e.baseModalShow=!1},onSelect:e.onBaseDetailSelect}}),e._v(" "),o("StakeModal",{attrs:{show:e.stakeModalShow,enddatemin:e.endDateOfLock,crpbalance:e.crpbalance,userStaked:e.userStaked,estimatedapy:e.estimatedAPY},on:{onCancel:e.closeModal}}),e._v(" "),o("div",{staticClass:"card"},[o("div",{staticClass:"card-body"},[o("div",{staticClass:"staking-container"},[o("div",{staticClass:"staking-head fcsb-container"},[o("h3",{staticClass:"title weight-bold"},[e._v("Staking")]),e._v(" "),o("div",{staticClass:"information"},[o("div",{staticClass:"tvl-info"},[o("p",{staticClass:"font-large weight-semi"},[e._v("TVL : $"+e._s(e.TVL.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")))])]),e._v(" "),o("div",{staticClass:"action-btn-group"},[o("div",{staticClass:"reload-btn icon-cursor",class:e.activeSpinning?"active":"",on:{click:e.reloadTimer}},[o("img",{staticClass:"reload-icon",attrs:{src:n(933)}})])])])]),e._v(" "),o("div",{staticClass:"staking-content fcsb-container"},[o("div",{staticClass:"staking-tiers"},[o("Carousel",{ref:"tierCarousel",attrs:{autoPlay:"","before-change":e.getCurrentTier,slidesToShow:3,centerMode:!0,centerPadding:"0",slidesToScroll:1,arrows:""}},[o("div",{staticClass:"custom-slick-arrow prev-arrow",attrs:{slot:"prevArrow"},slot:"prevArrow"},[o("Icon",{attrs:{type:"left"}})],1),e._v(" "),o("div",{staticClass:"custom-slick-arrow next-arrow",attrs:{slot:"nextArrow"},slot:"nextArrow"},[o("Icon",{attrs:{type:"right"}})],1),e._v(" "),e._l(e.tiers,(function(t,n){return o("div",{key:n},[o("div",{class:[n+1==e.selectedTier?"activeSlide":"slide"]},[o("div",{staticClass:"slideWrapper"},[o("div",{class:["staking-tiers-item staking-tiers-item-"+(n+1)]},[o("div",{staticClass:"staking-tier-preview fcc-container"},[o("div",{staticClass:"tier-text"},[o("span",{staticClass:"font-large"}),e._v(" "),o("br"),e._v(" "),o("span",{staticClass:"font-large weight-bold text-upper"})])]),e._v(" "),o("div",{staticClass:"Nomad-container"},[o("label",{staticClass:"font-large weight-bold"},[e._v(e._s(t.name))])]),e._v(" "),o("div",{staticClass:"staking-tier-desc"},[o("label",{staticClass:"font-large weight-bold"},[e._v(e._s(t.price.toLocaleString())+" NNI")])])])])])])}))],2)],1),e._v(" "),o("div",{staticClass:"staking-body"},[o("h4",{staticClass:"weight-bold"},[e._v("NNI Staking")]),e._v(" "),o("div",{staticClass:"staking-progress"},[o("div",{staticClass:"staking-progress-label fcsb-container"},[o("span",{staticClass:"font-xsmall weight-bold"},[e._v("NeoNomad "+e._s(e.currentTiers))]),e._v(" "),e.currentTiers<3?o("span",{staticClass:"font-xsmall weight-bold"},[e._v("NeoNomad "+e._s(e.nextTiers))]):e._e()]),e._v(" "),o("Progress",{attrs:{type:"line","stroke-width":14,percent:Number(e.pctToNexttiers.toFixed(1)),"show-info":!1}}),e._v(" "),o("div",{staticClass:"staking-progress-info-container"},[Number(e.pctToNexttiers.toFixed(1))>1?o("div",{staticClass:"staking-progress-end",style:"margin-left: calc("+Number(e.pctToNexttiers.toFixed(1))+"% - 2px)"}):e._e(),e._v(" "),o("label",{staticClass:"staking-progress-percent font-xsmall",style:"margin-left: calc("+Number(e.pctToNexttiers.toFixed(1))+"% - 2px)"},[e._v("\n                  "+e._s(e.userTier)+" NNI\n                ")])])],1),e._v(" "),o("div",{staticClass:"staking-infos-group"},[o("div",{staticClass:"staking-info fcsb-container"},[o("div",{staticClass:"label font-medium weight-semi spacing-small"},[e._v("\n                  Estimated APY\n                  "),o("Tooltip",{attrs:{placement:"bottomLeft"}},[o("template",{slot:"title"},[o("div",[e._v("Potential Annual Percentage Yield based on a daily compounding")])]),e._v(" "),o("img",{staticClass:"tooltip-icon",attrs:{src:n(146)}})],2)],1),e._v(" "),o("div",{staticClass:"value font-medium weight-bold"},[e._v("\n                  30 %\n                  "),o("img",{staticClass:"calc-icon icon-cursor",attrs:{src:n(969)},on:{click:function(){t.baseModalShow=!0}}})])]),e._v(" "),o("div",{staticClass:"staking-info fcsb-container"},[o("div",{staticClass:"label font-medium weight-semi spacing-small"},[e._v("\n                  Total Staked\n                  "),o("Tooltip",{attrs:{placement:"bottomLeft"}},[o("template",{slot:"title"},[o("div",[e._v("Total staked NNI token amount")])]),e._v(" "),o("img",{staticClass:"tooltip-icon",attrs:{src:n(146)}})],2)],1),e._v(" "),o("div",{staticClass:"value font-medium weight-bold"},[e._v(e._s(e.totalStaked))])]),e._v(" "),o("div",{staticClass:"staking-info fcsb-container"},[o("div",{staticClass:"label font-medium weight-semi spacing-small"},[e._v("\n                  Total Value\n                  "),o("Tooltip",{attrs:{placement:"bottomLeft"}},[o("template",{slot:"title"},[o("div",[e._v("Total Value staked (USD)")])]),e._v(" "),o("img",{staticClass:"tooltip-icon",attrs:{src:n(146)}})],2)],1),e._v(" "),o("div",{staticClass:"value font-medium weight-bold"},[e._v(e._s(e.totalStakedPrice))])])]),e._v(" "),o("div",{staticClass:"staking-actions-group"},[o("div",{staticClass:"staking-action-item fcsb-container"},[o("div",{staticClass:"reward-pending"},[o("label",{staticClass:"label font-medium"},[e._v("Reward Pending")]),e._v(" "),o("label",{staticClass:"value font-large weight-bold"},[e._v(e._s(e.pendingRewardDynamic))])]),e._v(" "),o("div",{staticClass:"btn-container"},[o("Button",{staticClass:"btn-primary weight-semi spacing-large",attrs:{disabled:!e.wallet.connected||0==e.pendingReward},on:{click:e.harvestReward}},[e._v("Harvest")])],1)]),e._v(" "),e.wallet.connected?o("div",[e.userStaked>0?o("div",{staticClass:"staking-action-item fcsb-container"},[o("div",{staticClass:"reward-pending"},[o("label",{staticClass:"label font-medium"},[e._v("NNI Staked")]),e._v(" "),o("label",{staticClass:"value font-large weight-bold"},[e._v(e._s(e.userStaked))])]),e._v(" "),o("div",{staticClass:"stake-btn-group fcc-container"},[o("div",{staticClass:"btn-container"},[o("Button",{staticClass:"btn-primary weight-semi spacing-large",attrs:{disabled:!e.wallet.connected||0==e.userStaked||0==e.canUnstake},on:{click:e.unstakeToken}},[e._v("Unstake")])],1),e._v(" "),o("div",{staticClass:"btn-container"},[o("Button",{staticClass:"btn-transparent weight-semi spacing-large",attrs:{id:"stake"},on:{click:function(){t.stakeModalShow=!0}}},[e._v("Stake")])],1)])]):o("div",{staticClass:"btn-container btn-large fcc-container"},[o("Button",{staticClass:"btn-transparent font-large weight-bold",attrs:{id:"stake"},on:{click:function(){t.stakeModalShow=!0}}},[e._v("Stake")])],1)]):o("div",{staticClass:"btn-container btn-large fcc-container"},[o("Button",{staticClass:"btn-transparent font-large weight-bold",on:{click:e.$accessor.wallet.openModal}},[e._v("Connect Wallet")])],1)]),e._v(" "),o("div",{staticClass:"staking-footer"},[o("div",{staticClass:"lock-tokens fcsb-container"},[o("label",{staticClass:"label font-small weight-semi spacing-large"},[e._v("\n                  "+e._s(e.endOfLock?"End of lock":"Lock tokens for")+"\n                ")]),e._v(" "),o("label",{staticClass:"value font-small weight-semi spacing-large"},[e._v("\n                  "+e._s(e.endOfLock?e.endOfLock:"0 Day(s)")+"\n                ")])]),e._v(" "),e.endOfLock?e._e():o("div",{staticClass:"get-crp fcc-container"},[o("NuxtLink",{staticClass:"get-crp",attrs:{to:"/swap/"}},[o("label",{staticClass:"font-medium weight-semi get-nni"},[e._v("Get NNI")]),e._v(" "),o("img",{staticClass:"union-icon",attrs:{src:n(979)}})])],1)])])])])])])],1)}),[],!1,null,"7e3ecb5b",null);e.default=component.exports;installComponents(component,{BaseDetailModal:n(509).default,StakeModal:n(519).default})}}]);